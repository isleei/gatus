(function(){"use strict";var e={814:function(e,t,a){var s=a(963),l=a(252),n=a(577),r=a(262),o=a.p+"img/logo.svg",i=a(201),u=a(507),d=a(970),c=a(135),g=a(3),m=a(512),v=a(388);function p(...e){return(0,v.m6)((0,m.W)(e))}const f=["disabled"];var w={__name:"Button",props:{variant:{type:String,default:"default"},size:{type:String,default:"default"},disabled:{type:Boolean,default:!1}},setup(e){const t=(0,g.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});return(a,s)=>((0,l.wg)(),(0,l.iD)("button",{class:(0,n.C_)((0,r.SU)(p)((0,r.SU)(t)({variant:e.variant,size:e.size}),a.$attrs.class??"")),disabled:e.disabled},[(0,l.WI)(a.$slots,"default")],10,f))}};const h=w;var x=h,b={__name:"Card",setup(e){return(e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:(0,n.C_)((0,r.SU)(p)("rounded-lg border bg-card text-card-foreground shadow-sm",e.$attrs.class??""))},[(0,l.WI)(e.$slots,"default")],2))}};const y=b;var k=y,_={__name:"CardHeader",setup(e){return(e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:(0,n.C_)((0,r.SU)(p)("flex flex-col space-y-1.5 p-6",e.$attrs.class??""))},[(0,l.WI)(e.$slots,"default")],2))}};const S=_;var D=S,U={__name:"CardTitle",setup(e){return(e,t)=>((0,l.wg)(),(0,l.iD)("h3",{class:(0,n.C_)((0,r.SU)(p)("text-2xl font-semibold leading-none tracking-tight",e.$attrs.class??""))},[(0,l.WI)(e.$slots,"default")],2))}};const C=U;var W=C,z={__name:"CardContent",setup(e){return(e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:(0,n.C_)((0,r.SU)(p)("p-6 pt-0",e.$attrs.class??""))},[(0,l.WI)(e.$slots,"default")],2))}};const H=z;var j=H;const E={id:"social"};function T(e,t){return(0,l.wg)(),(0,l.iD)("div",E,t[0]||(t[0]=[(0,l._)("a",{href:"https://github.com/TwiN/gatus",target:"_blank",title:"Gatus on GitHub"},[(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 16 16",class:"hover:scale-110"},[(0,l._)("path",{fill:"gray",d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"})])],-1)]))}var F=a(744);const R={},A=(0,F.Z)(R,[["render",T],["__scopeId","data-v-788af9ce"]]);var q=A;const $=e=>{let t=(new Date).getTime()-new Date(e).getTime();if(t<500)return"now";if(t>2592e5){let e=(t/864e5).toFixed(0);return e+" day"+("1"!==e?"s":"")+" ago"}if(t>36e5){let e=(t/36e5).toFixed(0);return e+" hour"+("1"!==e?"s":"")+" ago"}if(t>6e4){let e=(t/6e4).toFixed(0);return e+" minute"+("1"!==e?"s":"")+" ago"}let a=(t/1e3).toFixed(0);return a+" second"+("1"!==a?"s":"")+" ago"},L=(e,t)=>{const a=new Date(e)-new Date(t),s=Math.floor(a/1e3),l=Math.floor(s/60),n=Math.floor(l/60);if(n>0){const e=l%60,t=n+(1===n?" hour":" hours");return e>0?t+" "+e+(1===e?" minute":" minutes"):t}if(l>0){const e=s%60,t=l+(1===l?" minute":" minutes");return e>0?t+" "+e+(1===e?" second":" seconds"):t}return s+(1===s?" second":" seconds")},N=e=>{let t=new Date(e),a=t.getFullYear(),s=(t.getMonth()+1<10?"0":"")+(t.getMonth()+1),l=(t.getDate()<10?"0":"")+t.getDate(),n=(t.getHours()<10?"0":"")+t.getHours(),r=(t.getMinutes()<10?"0":"")+t.getMinutes(),o=(t.getSeconds()<10?"0":"")+t.getSeconds();return a+"-"+s+"-"+l+" "+n+":"+r+":"+o},Z={key:0,class:"space-y-2"},M={key:0,class:"flex items-center gap-2"},O={class:"text-xs font-semibold"},P={class:"font-mono text-xs"},I={key:1},Y={class:"font-mono text-xs"},V={key:0,class:"mt-1 space-y-0.5"},K={class:"truncate"},G={class:"text-muted-foreground"},B={key:0,class:"text-xs text-muted-foreground"},J={class:"text-xs font-semibold text-muted-foreground uppercase tracking-wider"},Q={class:"font-mono text-xs"},X={key:2},ee={class:"font-mono text-xs space-y-0.5"},te={class:"break-all"},ae={key:3},se={class:"font-mono text-xs space-y-0.5"};var le={__name:"Tooltip",props:{event:{type:[Event,Object],default:null},result:{type:Object,default:null},isPersistent:{type:Boolean,default:!1}},setup(e){const t=(0,i.yj)(),a=e,s=(0,r.iH)(!0),o=(0,r.iH)(0),u=(0,r.iH)(0),d=(0,r.iH)(null),c=(0,r.iH)(null),g=(0,l.Fl)((()=>a.result&&void 0!==a.result.endpointResults)),m=(0,l.Fl)((()=>g.value&&a.result.endpointResults?a.result.endpointResults.length:0)),v=(0,l.Fl)((()=>g.value&&a.result.endpointResults?a.result.endpointResults.filter((e=>e.success)).length:0)),p=async()=>{if(!c.value||!d.value||s.value)return;await(0,l.Y3)();const e=c.value.getBoundingClientRect(),t=d.value.getBoundingClientRect(),a=window.pageYOffset||document.documentElement.scrollTop,n=window.pageXOffset||document.documentElement.scrollLeft;let r=e.bottom+a+8,i=e.left+n;const g=window.innerHeight-e.bottom,m=e.top;g<t.height+20&&(r=m>t.height+20?e.top+a-t.height-8:m>g?a+10:a+window.innerHeight-t.height-10);const v=window.innerWidth-e.left;v<t.width+20&&(i=e.right+n-t.width,i<n+10&&(i=n+10)),o.value=Math.round(r),u.value=Math.round(i)},f=async()=>{if(a.event&&a.event.type)if(await(0,l.Y3)(),"mouseenter"!==a.event.type&&"click"!==a.event.type||!d.value)"mouseleave"===a.event.type&&(a.isPersistent||(s.value=!0,c.value=null));else{const e=a.event.target;c.value=e,s.value=!1,await(0,l.Y3)(),await p()}},w=()=>{p()};return(0,l.bv)((()=>{window.addEventListener("resize",w)})),(0,l.Ah)((()=>{window.removeEventListener("resize",w)})),(0,l.YP)((()=>a.event),(e=>{e&&e.type&&("mouseenter"===e.type||"click"===e.type?(s.value=!1,(0,l.Y3)((()=>f()))):"mouseleave"===e.type&&(a.isPersistent||(s.value=!0)))}),{immediate:!0}),(0,l.YP)((()=>a.result),(()=>{s.value||(0,l.Y3)((()=>f()))})),(0,l.YP)((()=>[a.isPersistent,a.result]),(([e,t])=>{e||t?t&&(e||"mouseenter"===a.event?.type)&&(s.value=!1,(0,l.Y3)((()=>f()))):s.value=!0})),(0,l.YP)((()=>t.path),(()=>{s.value=!0,c.value=null})),(t,a)=>((0,l.wg)(),(0,l.iD)("div",{id:"tooltip",ref_key:"tooltip",ref:d,class:(0,n.C_)(["absolute z-50 px-3 py-2 text-sm rounded-md shadow-lg border transition-all duration-200","bg-popover text-popover-foreground border-border",s.value?"invisible opacity-0":"visible opacity-100"]),style:(0,n.j5)(`top: ${o.value}px; left: ${u.value}px;`)},[e.result?((0,l.wg)(),(0,l.iD)("div",Z,[g.value?((0,l.wg)(),(0,l.iD)("div",M,[(0,l._)("span",{class:(0,n.C_)(["inline-block w-2 h-2 rounded-full",e.result.success?"bg-green-500":"bg-red-500"])},null,2),(0,l._)("span",O,(0,n.zw)(e.result.success?"Suite Passed":"Suite Failed"),1)])):(0,l.kq)("",!0),(0,l._)("div",null,[a[0]||(a[0]=(0,l._)("div",{class:"text-xs font-semibold text-muted-foreground uppercase tracking-wider"},"Timestamp",-1)),(0,l._)("div",P,(0,n.zw)((0,r.SU)(N)(e.result.timestamp)),1)]),g.value&&e.result.endpointResults?((0,l.wg)(),(0,l.iD)("div",I,[a[1]||(a[1]=(0,l._)("div",{class:"text-xs font-semibold text-muted-foreground uppercase tracking-wider"},"Endpoints",-1)),(0,l._)("div",Y,[(0,l._)("span",{class:(0,n.C_)(v.value===m.value?"text-green-500":"text-yellow-500")},(0,n.zw)(v.value)+"/"+(0,n.zw)(m.value)+" passed ",3)]),e.result.endpointResults.length>0?((0,l.wg)(),(0,l.iD)("div",V,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.result.endpointResults.slice(0,5),((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:"flex items-center gap-1 text-xs"},[(0,l._)("span",{class:(0,n.C_)(e.success?"text-green-500":"text-red-500")},(0,n.zw)(e.success?"✓":"✗"),3),(0,l._)("span",K,(0,n.zw)(e.name),1),(0,l._)("span",G,"("+(0,n.zw)(Math.trunc(e.duration/1e6))+"ms)",1)])))),128)),e.result.endpointResults.length>5?((0,l.wg)(),(0,l.iD)("div",B," ... and "+(0,n.zw)(e.result.endpointResults.length-5)+" more ",1)):(0,l.kq)("",!0)])):(0,l.kq)("",!0)])):(0,l.kq)("",!0),(0,l._)("div",null,[(0,l._)("div",J,(0,n.zw)(g.value?"Total Duration":"Response Time"),1),(0,l._)("div",Q,(0,n.zw)(Math.trunc(e.result.duration/1e6))+"ms ",1)]),!g.value&&e.result.conditionResults&&e.result.conditionResults.length?((0,l.wg)(),(0,l.iD)("div",X,[a[2]||(a[2]=(0,l._)("div",{class:"text-xs font-semibold text-muted-foreground uppercase tracking-wider"},"Conditions",-1)),(0,l._)("div",ee,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.result.conditionResults,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:"flex items-start gap-1"},[(0,l._)("span",{class:(0,n.C_)(e.success?"text-green-500":"text-red-500")},(0,n.zw)(e.success?"✓":"✗"),3),(0,l._)("span",te,(0,n.zw)(e.condition),1)])))),128))])])):(0,l.kq)("",!0),e.result.errors&&e.result.errors.length?((0,l.wg)(),(0,l.iD)("div",ae,[a[3]||(a[3]=(0,l._)("div",{class:"text-xs font-semibold text-muted-foreground uppercase tracking-wider"},"Errors",-1)),(0,l._)("div",se,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.result.errors,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:"text-red-500"}," • "+(0,n.zw)(e),1)))),128))])])):(0,l.kq)("",!0)])):(0,l.kq)("",!0)],6))}};const ne=le;var re=ne;const oe={class:"flex justify-center items-center"};var ie={__name:"Loading",props:{size:{type:String,default:"md",validator:e=>["xs","sm","md","lg","xl"].includes(e)}},setup(e){const t=e,a=(0,l.Fl)((()=>{const e={xs:"w-4 h-4",sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"};return e[t.size]||e.md}));return(e,t)=>((0,l.wg)(),(0,l.iD)("div",oe,[(0,l._)("img",{class:(0,n.C_)(["animate-spin rounded-full opacity-60 grayscale",a.value]),src:o,alt:"Gatus logo"},null,2)]))}};const ue=ie;var de=ue;const ce={id:"global",class:"bg-background text-foreground"},ge={key:0,class:"flex items-center justify-center min-h-screen"},me={key:1,class:"relative"},ve={class:"border-b bg-card/50 backdrop-blur supports-[backdrop-filter]:bg-card/60"},pe={class:"container mx-auto px-4 py-4 max-w-7xl"},fe={class:"flex items-center justify-between"},we={class:"flex items-center gap-4"},he={class:"w-12 h-12 flex items-center justify-center"},xe=["src"],be={key:1,src:o,alt:"Gatus",class:"w-full h-full object-contain"},ye={class:"text-2xl font-bold tracking-tight"},ke={key:0,class:"text-sm text-muted-foreground"},_e={class:"flex items-center gap-2"},Se={class:"hidden md:flex items-center gap-1"},De=["href"],Ue={key:0,class:"md:hidden mt-4 pt-4 border-t space-y-1"},Ce=["href"],We={class:"relative"},ze={class:"border-t mt-auto"},He={class:"container mx-auto px-4 py-6 max-w-7xl"},je={class:"flex flex-col items-center gap-4"},Ee={key:2,id:"login-container",class:"flex items-center justify-center min-h-screen p-4"},Te={key:0,class:"mb-6"},Fe={class:"p-3 rounded-md bg-destructive/10 border border-destructive/20"},Re={class:"text-sm text-destructive text-center"},Ae={key:0},qe={key:1};var $e={__name:"App",setup(e){const t=(0,i.yj)(),a=(0,r.iH)(!1),s=(0,r.iH)({oidc:!1,authenticated:!0}),g=(0,r.iH)([]),m=(0,r.iH)({}),v=(0,r.iH)(!1),p=(0,r.iH)(!1),f=(0,r.iH)(!1);let w=null;const h=(0,l.Fl)((()=>window.config&&window.config.logo&&"{{ .UI.Logo }}"!==window.config.logo?window.config.logo:"")),b=(0,l.Fl)((()=>window.config&&window.config.header&&"{{ .UI.Header }}"!==window.config.header?window.config.header:"Gatus")),y=(0,l.Fl)((()=>window.config&&window.config.link&&"{{ .UI.Link }}"!==window.config.link?window.config.link:null)),_=(0,l.Fl)((()=>window.config&&window.config.buttons?window.config.buttons:[])),S=async()=>{try{const e=await fetch("/api/v1/config",{credentials:"include"});if(200===e.status){const t=await e.json();s.value=t,g.value=t.announcements||[]}a.value=!0}catch(e){console.error("Failed to fetch config:",e),a.value=!0}},U=(e,t,a="hover")=>{"click"===a?e?(m.value={result:e,event:t},f.value=!0):(m.value={},f.value=!1):"hover"===a&&(f.value||(m.value={result:e,event:t}))},C=e=>{if(f.value){const t=document.getElementById("tooltip"),a=e.target.closest(".flex-1.h-6, .flex-1.h-8");!t||t.contains(e.target)||a||(m.value={},f.value=!1,window.dispatchEvent(new CustomEvent("clear-data-point-selection")))}};return(0,l.bv)((()=>{S(),w=setInterval(S,6e5),document.addEventListener("click",C)})),(0,l.Ah)((()=>{w&&(clearInterval(w),w=null),document.removeEventListener("click",C)})),(e,i)=>{const w=(0,l.up)("router-link"),S=(0,l.up)("router-view");return(0,l.wg)(),(0,l.iD)("div",ce,[a.value?s.value&&s.value.oidc&&!s.value.authenticated?((0,l.wg)(),(0,l.iD)("div",Ee,[(0,l.Wm)((0,r.SU)(k),{class:"w-full max-w-md"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(D),{class:"text-center"},{default:(0,l.w5)((()=>[i[8]||(i[8]=(0,l._)("img",{src:o,alt:"Gatus",class:"w-20 h-20 mx-auto mb-4"},null,-1)),(0,l.Wm)((0,r.SU)(W),{class:"text-3xl"},{default:(0,l.w5)((()=>i[7]||(i[7]=[(0,l.Uk)("Gatus",-1)]))),_:1,__:[7]}),i[9]||(i[9]=(0,l._)("p",{class:"text-muted-foreground mt-2"},"System Monitoring Dashboard",-1))])),_:1,__:[8,9]}),(0,l.Wm)((0,r.SU)(j),null,{default:(0,l.w5)((()=>[(0,r.SU)(t)&&(0,r.SU)(t).query.error?((0,l.wg)(),(0,l.iD)("div",Te,[(0,l._)("div",Fe,[(0,l._)("p",Re,["access_denied"===(0,r.SU)(t).query.error?((0,l.wg)(),(0,l.iD)("span",Ae," You do not have access to this status page ")):((0,l.wg)(),(0,l.iD)("span",qe,(0,n.zw)((0,r.SU)(t).query.error),1))])])])):(0,l.kq)("",!0),(0,l._)("a",{href:"/oidc/login",class:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-11 px-8 w-full",onClick:i[3]||(i[3]=e=>p.value=!0)},[p.value?((0,l.wg)(),(0,l.j4)(de,{key:0,size:"xs"})):((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l.Wm)((0,r.SU)(c.Z),{class:"mr-2 h-4 w-4"}),i[10]||(i[10]=(0,l.Uk)(" Login with OIDC ",-1))],64))])])),_:1})])),_:1})])):((0,l.wg)(),(0,l.iD)("div",me,[(0,l._)("header",ve,[(0,l._)("div",pe,[(0,l._)("div",fe,[(0,l._)("div",we,[((0,l.wg)(),(0,l.j4)((0,l.LL)(y.value?"a":"div"),{href:y.value,target:"_blank",class:(0,n.C_)(["flex items-center gap-3",y.value&&"hover:opacity-80 transition-opacity"])},{default:(0,l.w5)((()=>[(0,l._)("div",he,[h.value?((0,l.wg)(),(0,l.iD)("img",{key:0,src:h.value,alt:"Gatus",class:"w-full h-full object-contain"},null,8,xe)):((0,l.wg)(),(0,l.iD)("img",be))]),(0,l._)("div",null,[(0,l._)("h1",ye,(0,n.zw)(b.value),1),_.value&&_.value.length?((0,l.wg)(),(0,l.iD)("p",ke," System Monitoring Dashboard ")):(0,l.kq)("",!0)])])),_:1},8,["href","class"]))]),(0,l._)("div",_e,[(0,l._)("nav",Se,[(0,l.Wm)(w,{to:"/admin",class:"px-3 py-2 text-sm font-medium rounded-md hover:bg-accent hover:text-accent-foreground transition-colors"},{default:(0,l.w5)((()=>i[4]||(i[4]=[(0,l.Uk)(" Admin ",-1)]))),_:1,__:[4]}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(_.value,(e=>((0,l.wg)(),(0,l.iD)("a",{key:e.name,href:e.link,target:"_blank",class:"px-3 py-2 text-sm font-medium rounded-md hover:bg-accent hover:text-accent-foreground transition-colors"},(0,n.zw)(e.name),9,De)))),128))]),(0,l.Wm)((0,r.SU)(x),{variant:"ghost",size:"icon",class:"md:hidden",onClick:i[0]||(i[0]=e=>v.value=!v.value)},{default:(0,l.w5)((()=>[v.value?((0,l.wg)(),(0,l.j4)((0,r.SU)(d.Z),{key:1,class:"h-5 w-5"})):((0,l.wg)(),(0,l.j4)((0,r.SU)(u.Z),{key:0,class:"h-5 w-5"}))])),_:1})])]),v.value?((0,l.wg)(),(0,l.iD)("nav",Ue,[(0,l.Wm)(w,{to:"/admin",class:"block px-3 py-2 text-sm font-medium rounded-md hover:bg-accent hover:text-accent-foreground transition-colors",onClick:i[1]||(i[1]=e=>v.value=!1)},{default:(0,l.w5)((()=>i[5]||(i[5]=[(0,l.Uk)(" Admin ",-1)]))),_:1,__:[5]}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(_.value,(e=>((0,l.wg)(),(0,l.iD)("a",{key:e.name,href:e.link,target:"_blank",class:"block px-3 py-2 text-sm font-medium rounded-md hover:bg-accent hover:text-accent-foreground transition-colors",onClick:i[2]||(i[2]=e=>v.value=!1)},(0,n.zw)(e.name),9,Ce)))),128))])):(0,l.kq)("",!0)])]),(0,l._)("main",We,[(0,l.Wm)(S,{onShowTooltip:U,announcements:g.value},null,8,["announcements"])]),(0,l._)("footer",ze,[(0,l._)("div",He,[(0,l._)("div",je,[i[6]||(i[6]=(0,l._)("div",{class:"text-sm text-muted-foreground text-center"},[(0,l.Uk)(" Powered by "),(0,l._)("a",{href:"https://gatus.io",target:"_blank",class:"font-medium text-emerald-800 hover:text-emerald-600"},"Gatus")],-1)),(0,l.Wm)(q)])])])])):((0,l.wg)(),(0,l.iD)("div",ge,[(0,l.Wm)(de,{size:"lg"})])),(0,l.Wm)(re,{result:m.value.result,event:m.value.event,isPersistent:f.value},null,8,["result","event","isPersistent"])])}}};const Le=$e;var Ne=Le,Ze=a(793),Me=a(138),Oe=a(254),Pe=a(146),Ie=a(485),Ye=a(893),Ve=a(89),Ke=a(372),Ge=a(981),Be={__name:"Badge",props:{variant:{type:String,default:"default"}},setup(e){const t=(0,g.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white",warning:"border-transparent bg-yellow-500 text-white"}},defaultVariants:{variant:"default"}});return(a,s)=>((0,l.wg)(),(0,l.iD)("div",{class:(0,n.C_)((0,r.SU)(p)((0,r.SU)(t)({variant:e.variant}),a.$attrs.class??""))},[(0,l.WI)(a.$slots,"default")],2))}};const Je=Be;var Qe=Je,Xe={__name:"StatusBadge",props:{status:{type:String,required:!0,validator:e=>["healthy","unhealthy","degraded","unknown"].includes(e)}},setup(e){const t=e,a=(0,l.Fl)((()=>{switch(t.status){case"healthy":return"success";case"unhealthy":return"destructive";case"degraded":return"warning";default:return"secondary"}})),s=(0,l.Fl)((()=>{switch(t.status){case"healthy":return"Healthy";case"unhealthy":return"Unhealthy";case"degraded":return"Degraded";default:return"Unknown"}})),o=(0,l.Fl)((()=>{switch(t.status){case"healthy":return"bg-green-400";case"unhealthy":return"bg-red-400";case"degraded":return"bg-yellow-400";default:return"bg-gray-400"}}));return(e,t)=>((0,l.wg)(),(0,l.j4)((0,r.SU)(Qe),{variant:a.value,class:"flex items-center gap-1"},{default:(0,l.w5)((()=>[(0,l._)("span",{class:(0,n.C_)(["w-2 h-2 rounded-full",o.value])},null,2),(0,l.Uk)(" "+(0,n.zw)(s.value),1)])),_:1},8,["variant"]))}};const et=Xe;var tt=et;const at={class:"flex items-start justify-between gap-2 sm:gap-3"},st={class:"flex-1 min-w-0 overflow-hidden"},lt=["title","aria-label"],nt={class:"flex items-center gap-2 text-xs sm:text-sm text-muted-foreground min-h-[1.25rem]"},rt=["title"],ot={key:1},it=["title"],ut={class:"flex-shrink-0 ml-2"},dt={class:"space-y-2"},ct={class:"flex items-center justify-between mb-1"},gt=["title"],mt={class:"flex gap-0.5"},vt=["onMouseenter","onMouseleave","onClick"],pt={class:"flex items-center justify-between text-xs text-muted-foreground mt-1"};var ft={__name:"EndpointCard",props:{endpoint:{type:Object,required:!0},maxResults:{type:Number,default:50},showAverageResponseTime:{type:Boolean,default:!0}},emits:["showTooltip"],setup(e,{emit:t}){const a=(0,i.tv)(),o=e,u=t,d=(0,r.iH)(null),c=(0,l.Fl)((()=>o.endpoint.results&&0!==o.endpoint.results.length?o.endpoint.results[o.endpoint.results.length-1]:null)),g=(0,l.Fl)((()=>c.value?c.value.success?"healthy":"unhealthy":"unknown")),m=(0,l.Fl)((()=>c.value?.hostname||null)),v=(0,l.Fl)((()=>{const e=[...o.endpoint.results||[]];while(e.length<o.maxResults)e.unshift(null);return e.slice(-o.maxResults)})),p=(0,l.Fl)((()=>{if(!o.endpoint.results||0===o.endpoint.results.length)return"N/A";let e=0,t=0,a=1/0,s=0;for(const l of o.endpoint.results)if(l.duration){const n=l.duration/1e6;e+=n,t++,a=Math.min(a,n),s=Math.max(s,n)}if(0===t)return"N/A";if(o.showAverageResponseTime){const a=Math.round(e/t);return`~${a}ms`}{const e=Math.trunc(a),t=Math.trunc(s);return e===t?`${e}ms`:`${e}-${t}ms`}})),f=(0,l.Fl)((()=>{if(!o.endpoint.results||0===o.endpoint.results.length)return"";const e=Math.max(0,o.endpoint.results.length-o.maxResults);return $(o.endpoint.results[e].timestamp)})),w=(0,l.Fl)((()=>o.endpoint.results&&0!==o.endpoint.results.length?$(o.endpoint.results[o.endpoint.results.length-1].timestamp):"")),h=()=>{a.push(`/endpoints/${o.endpoint.key}`)},x=(e,t)=>{u("showTooltip",e,t,"hover")},b=(e,t)=>{u("showTooltip",null,t,"hover")},y=(e,t,a)=>{window.dispatchEvent(new CustomEvent("clear-data-point-selection")),d.value===a?(d.value=null,u("showTooltip",null,t,"click")):(d.value=a,u("showTooltip",e,t,"click"))},_=()=>{d.value=null};return(0,l.bv)((()=>{window.addEventListener("clear-data-point-selection",_)})),(0,l.Ah)((()=>{window.removeEventListener("clear-data-point-selection",_)})),(t,a)=>((0,l.wg)(),(0,l.j4)((0,r.SU)(k),{class:"endpoint h-full flex flex-col transition hover:shadow-lg hover:scale-[1.01] dark:hover:border-gray-700"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(D),{class:"endpoint-header px-3 sm:px-6 pt-3 sm:pt-6 pb-2 space-y-0"},{default:(0,l.w5)((()=>[(0,l._)("div",at,[(0,l._)("div",st,[(0,l.Wm)((0,r.SU)(W),{class:"text-base sm:text-lg truncate"},{default:(0,l.w5)((()=>[(0,l._)("span",{class:"hover:text-primary cursor-pointer hover:underline text-sm sm:text-base block truncate",onClick:h,onKeydown:(0,s.D2)(h,["enter"]),title:e.endpoint.name,role:"link",tabindex:"0","aria-label":`View details for ${e.endpoint.name}`},(0,n.zw)(e.endpoint.name),41,lt)])),_:1}),(0,l._)("div",nt,[e.endpoint.group?((0,l.wg)(),(0,l.iD)("span",{key:0,class:"truncate",title:e.endpoint.group},(0,n.zw)(e.endpoint.group),9,rt)):(0,l.kq)("",!0),e.endpoint.group&&m.value?((0,l.wg)(),(0,l.iD)("span",ot,"•")):(0,l.kq)("",!0),m.value?((0,l.wg)(),(0,l.iD)("span",{key:2,class:"truncate",title:m.value},(0,n.zw)(m.value),9,it)):(0,l.kq)("",!0)])]),(0,l._)("div",ut,[(0,l.Wm)(tt,{status:g.value},null,8,["status"])])])])),_:1}),(0,l.Wm)((0,r.SU)(j),{class:"endpoint-content flex-1 pb-3 sm:pb-4 px-3 sm:px-6 pt-2"},{default:(0,l.w5)((()=>[(0,l._)("div",dt,[(0,l._)("div",null,[(0,l._)("div",ct,[a[0]||(a[0]=(0,l._)("div",{class:"flex-1"},null,-1)),(0,l._)("p",{class:"text-xs text-muted-foreground",title:e.showAverageResponseTime?"Average response time":"Minimum and maximum response time"},(0,n.zw)(p.value),9,gt)]),(0,l._)("div",mt,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(v.value,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:(0,n.C_)(["flex-1 h-6 sm:h-8 rounded-sm transition-all",e?"cursor-pointer":"",e?e.success?d.value===t?"bg-green-700":"bg-green-500 hover:bg-green-700":d.value===t?"bg-red-700":"bg-red-500 hover:bg-red-700":"bg-gray-200 dark:bg-gray-700"]),onMouseenter:t=>e&&x(e,t),onMouseleave:t=>e&&b(e,t),onClick:(0,s.iM)((a=>e&&y(e,a,t)),["stop"])},null,42,vt)))),128))]),(0,l._)("div",pt,[(0,l._)("span",null,(0,n.zw)(f.value),1),(0,l._)("span",null,(0,n.zw)(w.value),1)])])])])),_:1})])),_:1}))}};const wt=ft;var ht=wt;const xt={class:"flex items-start justify-between gap-2 sm:gap-3"},bt={class:"flex-1 min-w-0 overflow-hidden"},yt=["title","aria-label"],kt={class:"flex items-center gap-2 text-xs sm:text-sm text-muted-foreground"},_t=["title"],St={key:1},Dt={key:2},Ut={class:"flex-shrink-0 ml-2"},Ct={class:"space-y-2"},Wt={class:"flex items-center justify-between mb-1"},zt={class:"text-xs text-muted-foreground"},Ht={key:0,class:"text-xs text-muted-foreground"},jt={class:"flex gap-0.5"},Et=["onMouseenter","onMouseleave","onClick"],Tt={class:"flex items-center justify-between text-xs text-muted-foreground mt-1"};var Ft={__name:"SuiteCard",props:{suite:{type:Object,required:!0},maxResults:{type:Number,default:50}},emits:["showTooltip"],setup(e,{emit:t}){const a=(0,i.tv)(),o=e,u=t,d=(0,r.iH)(null),c=(0,l.Fl)((()=>{const e=[...o.suite.results||[]];while(e.length<o.maxResults)e.unshift(null);return e.slice(-o.maxResults)})),g=(0,l.Fl)((()=>o.suite.results&&0!==o.suite.results.length?o.suite.results[o.suite.results.length-1].success?"healthy":"unhealthy":"unknown")),m=(0,l.Fl)((()=>{if(!o.suite.results||0===o.suite.results.length)return 0;const e=o.suite.results[o.suite.results.length-1];return e.endpointResults?e.endpointResults.length:0})),v=(0,l.Fl)((()=>{if(!o.suite.results||0===o.suite.results.length)return 0;const e=o.suite.results.filter((e=>e.success)).length;return Math.round(e/o.suite.results.length*100)})),p=(0,l.Fl)((()=>{if(!o.suite.results||0===o.suite.results.length)return null;const e=o.suite.results.reduce(((e,t)=>e+(t.duration||0)),0);return Math.trunc(e/o.suite.results.length/1e6)})),f=(0,l.Fl)((()=>{if(!o.suite.results||0===o.suite.results.length)return"N/A";const e=o.suite.results[0];return $(e.timestamp)})),w=(0,l.Fl)((()=>{if(!o.suite.results||0===o.suite.results.length)return"Now";const e=o.suite.results[o.suite.results.length-1];return $(e.timestamp)})),h=()=>{a.push(`/suites/${o.suite.key}`)},x=(e,t)=>{u("showTooltip",e,t,"hover")},b=(e,t)=>{u("showTooltip",null,t,"hover")},y=(e,t,a)=>{window.dispatchEvent(new CustomEvent("clear-data-point-selection")),d.value===a?(d.value=null,u("showTooltip",null,t,"click")):(d.value=a,u("showTooltip",e,t,"click"))},_=()=>{d.value=null};return(0,l.bv)((()=>{window.addEventListener("clear-data-point-selection",_)})),(0,l.Ah)((()=>{window.removeEventListener("clear-data-point-selection",_)})),(t,a)=>((0,l.wg)(),(0,l.j4)((0,r.SU)(k),{class:"suite h-full flex flex-col transition hover:shadow-lg hover:scale-[1.01] dark:hover:border-gray-700"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(D),{class:"suite-header px-3 sm:px-6 pt-3 sm:pt-6 pb-2 space-y-0"},{default:(0,l.w5)((()=>[(0,l._)("div",xt,[(0,l._)("div",bt,[(0,l.Wm)((0,r.SU)(W),{class:"text-base sm:text-lg truncate"},{default:(0,l.w5)((()=>[(0,l._)("span",{class:"hover:text-primary cursor-pointer hover:underline text-sm sm:text-base block truncate",onClick:h,onKeydown:(0,s.D2)(h,["enter"]),title:e.suite.name,role:"link",tabindex:"0","aria-label":`View details for suite ${e.suite.name}`},(0,n.zw)(e.suite.name),41,yt)])),_:1}),(0,l._)("div",kt,[e.suite.group?((0,l.wg)(),(0,l.iD)("span",{key:0,class:"truncate",title:e.suite.group},(0,n.zw)(e.suite.group),9,_t)):(0,l.kq)("",!0),e.suite.group&&m.value?((0,l.wg)(),(0,l.iD)("span",St,"•")):(0,l.kq)("",!0),m.value?((0,l.wg)(),(0,l.iD)("span",Dt,(0,n.zw)(m.value)+" endpoint"+(0,n.zw)(1!==m.value?"s":""),1)):(0,l.kq)("",!0)])]),(0,l._)("div",Ut,[(0,l.Wm)(tt,{status:g.value},null,8,["status"])])])])),_:1}),(0,l.Wm)((0,r.SU)(j),{class:"suite-content flex-1 pb-3 sm:pb-4 px-3 sm:px-6 pt-2"},{default:(0,l.w5)((()=>[(0,l._)("div",Ct,[(0,l._)("div",null,[(0,l._)("div",Wt,[(0,l._)("p",zt,"Success Rate: "+(0,n.zw)(v.value)+"%",1),null!==p.value?((0,l.wg)(),(0,l.iD)("p",Ht,(0,n.zw)(p.value)+"ms avg",1)):(0,l.kq)("",!0)]),(0,l._)("div",jt,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(c.value,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:(0,n.C_)(["flex-1 h-6 sm:h-8 rounded-sm transition-all",e?"cursor-pointer":"",e?e.success?d.value===t?"bg-green-700":"bg-green-500 hover:bg-green-700":d.value===t?"bg-red-700":"bg-red-500 hover:bg-red-700":"bg-gray-200 dark:bg-gray-700"]),onMouseenter:t=>e&&x(e,t),onMouseleave:t=>e&&b(e,t),onClick:(0,s.iM)((a=>e&&y(e,a,t)),["stop"])},null,42,Et)))),128))]),(0,l._)("div",Tt,[(0,l._)("span",null,(0,n.zw)(f.value),1),(0,l._)("span",null,(0,n.zw)(w.value),1)])])])])),_:1})])),_:1}))}};const Rt=(0,F.Z)(Ft,[["__scopeId","data-v-88e61ed6"]]);var At=Rt,qt=a(275);const $t=["value"];var Lt={__name:"Input",props:{modelValue:{type:[String,Number],default:""}},emits:["update:modelValue"],setup(e){return(t,a)=>((0,l.wg)(),(0,l.iD)("input",{class:(0,n.C_)((0,r.SU)(p)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t.$attrs.class??"")),value:e.modelValue,onInput:a[0]||(a[0]=e=>t.$emit("update:modelValue",e.target.value))},null,42,$t))}};const Nt=Lt;var Zt=Nt,Mt=a(368);const Ot=["aria-expanded","aria-label"],Pt={class:"truncate"},It={key:0,role:"listbox",class:"absolute top-full left-0 z-50 mt-1 w-full rounded-md border bg-popover text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95"},Yt={class:"p-1"},Vt=["onClick","aria-selected"],Kt={class:"absolute left-1.5 sm:left-2 flex h-3.5 w-3.5 items-center justify-center"};var Gt={__name:"Select",props:{modelValue:{type:String,default:""},options:{type:Array,required:!0},placeholder:{type:String,default:"Select..."},class:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,s=t,o=(0,r.iH)(!1),i=(0,r.iH)(null),u=(0,r.iH)(-1),d=(0,l.Fl)((()=>a.options.find((e=>e.value===a.modelValue))||{label:a.placeholder,value:""})),c=e=>{s("update:modelValue",e.value),o.value=!1},g=()=>{if(o.value=!o.value,o.value){const e=a.options.findIndex((e=>e.value===a.modelValue));u.value=e>=0?e:0}else u.value=-1},m=e=>{i.value&&!i.value.contains(e.target)&&(o.value=!1,u.value=-1)},v=e=>{if(o.value)switch(e.key){case"ArrowDown":e.preventDefault(),u.value=Math.min(u.value+1,a.options.length-1);break;case"ArrowUp":e.preventDefault(),u.value=Math.max(u.value-1,0);break;case"Enter":case" ":e.preventDefault(),u.value>=0&&u.value<a.options.length&&c(a.options[u.value]);break;case"Escape":e.preventDefault(),o.value=!1,u.value=-1;break}else"Enter"!==e.key&&" "!==e.key&&"ArrowDown"!==e.key&&"ArrowUp"!==e.key||(e.preventDefault(),g())};return(0,l.bv)((()=>{document.addEventListener("click",m)})),(0,l.Ah)((()=>{document.removeEventListener("click",m)})),(t,s)=>((0,l.wg)(),(0,l.iD)("div",{ref_key:"selectRef",ref:i,class:(0,n.C_)(["relative",a.class])},[(0,l._)("button",{onClick:g,onKeydown:v,"aria-expanded":o.value,"aria-haspopup":!0,"aria-label":d.value.label||a.placeholder,class:"flex h-9 sm:h-10 w-full items-center justify-between rounded-md border border-input bg-background px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[(0,l._)("span",Pt,(0,n.zw)(d.value.label),1),(0,l.Wm)((0,r.SU)(Ie.Z),{class:"h-3 w-3 sm:h-4 sm:w-4 opacity-50 flex-shrink-0 ml-1"})],40,Ot),o.value?((0,l.wg)(),(0,l.iD)("div",It,[(0,l._)("div",Yt,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.options,((t,a)=>((0,l.wg)(),(0,l.iD)("div",{key:t.value,onClick:e=>c(t),class:(0,n.C_)(["relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-6 sm:pl-8 pr-2 text-xs sm:text-sm outline-none hover:bg-accent hover:text-accent-foreground",a===u.value&&"bg-accent text-accent-foreground"]),role:"option","aria-selected":e.modelValue===t.value},[(0,l._)("span",Kt,[e.modelValue===t.value?((0,l.wg)(),(0,l.j4)((0,r.SU)(Mt.Z),{key:0,class:"h-3 w-3 sm:h-4 sm:w-4"})):(0,l.kq)("",!0)]),(0,l.Uk)(" "+(0,n.zw)(t.label),1)],10,Vt)))),128))])])):(0,l.kq)("",!0)],2))}};const Bt=Gt;var Jt=Bt;const Qt={class:"flex flex-col lg:flex-row gap-3 lg:gap-4 p-3 sm:p-4 bg-card rounded-lg border"},Xt={class:"flex-1"},ea={class:"relative"},ta={class:"flex flex-col sm:flex-row gap-3 sm:gap-4"},aa={class:"flex items-center gap-2 flex-1 sm:flex-initial"},sa={class:"flex items-center gap-2 flex-1 sm:flex-initial"};var la={__name:"SearchBar",emits:["search","update:showOnlyFailing","update:showRecentFailures","update:groupByGroup","update:sortBy","initializeCollapsedGroups"],setup(e,{emit:t}){const a=(0,r.iH)(""),s=(0,r.iH)(localStorage.getItem("gatus:filter-by")||"undefined"!==typeof window&&window.config?.defaultFilterBy||"none"),n=(0,r.iH)(localStorage.getItem("gatus:sort-by")||"undefined"!==typeof window&&window.config?.defaultSortBy||"name"),o=[{label:"None",value:"none"},{label:"Failing",value:"failing"},{label:"Unstable",value:"unstable"}],i=[{label:"Name",value:"name"},{label:"Group",value:"group"},{label:"Health",value:"health"}],u=t,d=(e,t=!0)=>{s.value=e,t&&localStorage.setItem("gatus:filter-by",e),u("update:showOnlyFailing",!1),u("update:showRecentFailures",!1),"failing"===e?u("update:showOnlyFailing",!0):"unstable"===e&&u("update:showRecentFailures",!0)},c=(e,t=!0)=>{n.value=e,t&&localStorage.setItem("gatus:sort-by",e),u("update:sortBy",e),u("update:groupByGroup","group"===e),"group"===e&&u("initializeCollapsedGroups")};return(0,l.bv)((()=>{d(s.value,!1),c(n.value,!1)})),(e,t)=>((0,l.wg)(),(0,l.iD)("div",Qt,[(0,l._)("div",Xt,[(0,l._)("div",ea,[(0,l.Wm)((0,r.SU)(qt.Z),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),t[4]||(t[4]=(0,l._)("label",{for:"search-input",class:"sr-only"},"Search endpoints",-1)),(0,l.Wm)((0,r.SU)(Zt),{id:"search-input",modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),type:"text",placeholder:"Search endpoints...",class:"pl-10 text-sm sm:text-base",onInput:t[1]||(t[1]=t=>e.$emit("search",a.value))},null,8,["modelValue"])])]),(0,l._)("div",ta,[(0,l._)("div",aa,[t[5]||(t[5]=(0,l._)("label",{class:"text-xs sm:text-sm font-medium text-muted-foreground whitespace-nowrap"},"Filter by:",-1)),(0,l.Wm)((0,r.SU)(Jt),{modelValue:s.value,"onUpdate:modelValue":[t[2]||(t[2]=e=>s.value=e),d],options:o,placeholder:"None",class:"flex-1 sm:w-[140px] md:w-[160px]"},null,8,["modelValue"])]),(0,l._)("div",sa,[t[6]||(t[6]=(0,l._)("label",{class:"text-xs sm:text-sm font-medium text-muted-foreground whitespace-nowrap"},"Sort by:",-1)),(0,l.Wm)((0,r.SU)(Jt),{modelValue:n.value,"onUpdate:modelValue":[t[3]||(t[3]=e=>n.value=e),c],options:i,placeholder:"Name",class:"flex-1 sm:w-[90px] md:w-[100px]"},null,8,["modelValue"])])])]))}};const na=la;var ra=na,oa=a(789),ia=a(679);const ua={id:"settings",class:"fixed bottom-4 left-4 z-50"},da={class:"flex items-center gap-1 bg-background/95 backdrop-blur-sm border rounded-full shadow-md p-1"},ca=["aria-label","aria-expanded"],ga={class:"text-xs font-medium"},ma=["onClick"],va=["aria-label"],pa={class:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-2 py-1 bg-popover text-popover-foreground text-xs rounded-md shadow-md opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap"},fa="300",wa="theme",ha=31536e3;var xa={__name:"Settings",emits:["refreshData"],setup(e,{emit:t}){const a=t,o=[{value:"10",label:"10s"},{value:"30",label:"30s"},{value:"60",label:"1m"},{value:"120",label:"2m"},{value:"300",label:"5m"},{value:"600",label:"10m"}],i={REFRESH_INTERVAL:"gatus:refresh-interval"};function u(){const e=document.cookie.match(new RegExp(`${wa}=(dark|light);?`))?.[1];return"dark"===e||!e&&(window.matchMedia("(prefers-color-scheme: dark)").matches||document.documentElement.classList.contains("dark"))}function d(){const e=localStorage.getItem(i.REFRESH_INTERVAL),t=e&&parseInt(e),a=t&&t>=10&&o.some((t=>t.value===e));return a?e:fa}const c=(0,r.iH)(d()),g=(0,r.iH)(u()),m=(0,r.iH)(!1);let v=null;const p=e=>{const t=o.find((t=>t.value===e));return t?t.label:`${e}s`},f=e=>{localStorage.setItem(i.REFRESH_INTERVAL,e),v&&clearInterval(v),v=setInterval((()=>{w()}),1e3*e)},w=()=>{a("refreshData")},h=e=>{c.value=e,m.value=!1,w(),f(e)},x=e=>{const t=document.getElementById("settings");t&&!t.contains(e.target)&&(m.value=!1)},b=e=>{document.cookie=`${wa}=${e}; path=/; max-age=${ha}; samesite=strict`},y=()=>{const e=u()?"light":"dark";b(e),k()},k=()=>{const e=u();g.value=e,document.documentElement.classList.toggle("dark",e)};return(0,l.bv)((()=>{f(c.value),k(),document.addEventListener("click",x)})),(0,l.Ah)((()=>{v&&clearInterval(v),document.removeEventListener("click",x)})),(e,t)=>((0,l.wg)(),(0,l.iD)("div",ua,[(0,l._)("div",da,[(0,l._)("button",{onClick:t[1]||(t[1]=e=>m.value=!m.value),"aria-label":`Refresh interval: ${p(c.value)}`,"aria-expanded":m.value,class:"flex items-center gap-1.5 px-3 py-1.5 rounded-full hover:bg-accent transition-colors relative"},[(0,l.Wm)((0,r.SU)(Oe.Z),{class:"w-3.5 h-3.5 text-muted-foreground"}),(0,l._)("span",ga,(0,n.zw)(p(c.value)),1),m.value?((0,l.wg)(),(0,l.iD)("div",{key:0,onClick:t[0]||(t[0]=(0,s.iM)((()=>{}),["stop"])),class:"absolute bottom-full left-0 mb-2 bg-popover border rounded-lg shadow-lg overflow-hidden"},[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)(o,(e=>(0,l._)("button",{key:e.value,onClick:t=>h(e.value),class:(0,n.C_)(["block w-full px-4 py-2 text-xs text-left hover:bg-accent transition-colors",c.value===e.value&&"bg-accent"])},(0,n.zw)(e.label),11,ma))),64))])):(0,l.kq)("",!0)],8,ca),t[2]||(t[2]=(0,l._)("div",{class:"h-5 w-px bg-border/50"},null,-1)),(0,l._)("button",{onClick:y,"aria-label":g.value?"Switch to light mode":"Switch to dark mode",class:"p-1.5 rounded-full hover:bg-accent transition-colors group relative"},[g.value?((0,l.wg)(),(0,l.j4)((0,r.SU)(oa.Z),{key:0,class:"h-3.5 w-3.5 transition-all"})):((0,l.wg)(),(0,l.j4)((0,r.SU)(ia.Z),{key:1,class:"h-3.5 w-3.5 transition-all"})),(0,l._)("div",pa,(0,n.zw)(g.value?"Light mode":"Dark mode"),1)],8,va)])]))}};const ba=(0,F.Z)(xa,[["__scopeId","data-v-477a96cc"]]);var ya=ba,ka=a(691),_a=a(446),Sa=a(5),Da=a(337),Ua=a(441),Ca=a(424);const Wa=e=>null===e||void 0===e?"":String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),za=new Ua.TU.Renderer;za.link=(e,t,a)=>{const s="object"===typeof e&&null!==e?e:null,l=s?s.href:e,n=s?s.title:t,r=s?s.text:a,o=Wa(l||""),i=n?` title="${Wa(n)}"`:"",u=r||"";return`<a href="${o}" target="_blank" rel="noopener noreferrer" class="text-blue-700 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 underline font-medium"${i}>${u}</a>`},Ua.TU.use({renderer:za,breaks:!0,gfm:!0,headerIds:!1,mangle:!1});const Ha=e=>{if(!e)return"";const t=String(e),a=Ua.TU.parse(t);return Ca.Z.sanitize(a,{ADD_ATTR:["target","rel"]})},ja={key:0,class:"announcement-container mb-6"},Ea={class:"flex items-center justify-between"},Ta={class:"flex items-center gap-2"},Fa={class:"text-xs text-gray-500 dark:text-gray-400"},Ra={key:0,class:"announcement-content p-4 transition-all duration-200 rounded-b-lg"},Aa={class:"relative"},qa={class:"space-y-3"},$a={class:"flex items-center gap-3 mb-2 relative"},La={class:"relative z-10 bg-white dark:bg-gray-800 px-2 py-1 rounded-md border border-gray-200 dark:border-gray-600"},Na={class:"text-sm font-medium text-gray-600 dark:text-gray-300"},Za={class:"space-y-2 ml-7 relative"},Ma={key:0,class:"absolute w-0.5 bg-gray-300 dark:bg-gray-600 pointer-events-none",style:{left:"-16px",top:"-2.5rem",height:"calc(50% + 2.5rem)"}},Oa={class:"flex items-center gap-3"},Pa=["title"],Ia={class:"flex-1 min-w-0"},Ya=["innerHTML"];var Va={__name:"AnnouncementBanner",props:{announcements:{type:Array,default:()=>[]}},setup(e){const t=e,a=(0,r.iH)(!1),s=()=>{a.value=!a.value},o={outage:{icon:ka.Z,background:"bg-red-50 border-gray-200 dark:bg-red-900/50 dark:border-gray-600",border:"border-red-500",iconColor:"text-red-600 dark:text-red-400",text:"text-red-700 dark:text-red-300"},warning:{icon:_a.Z,background:"bg-yellow-50 border-gray-200 dark:bg-yellow-900/50 dark:border-gray-600",border:"border-yellow-500",iconColor:"text-yellow-600 dark:text-yellow-400",text:"text-yellow-700 dark:text-yellow-300"},information:{icon:Sa.Z,background:"bg-blue-50 border-gray-200 dark:bg-blue-900/50 dark:border-gray-600",border:"border-blue-500",iconColor:"text-blue-600 dark:text-blue-400",text:"text-blue-700 dark:text-blue-300"},operational:{icon:Ve.Z,background:"bg-green-50 border-gray-200 dark:bg-green-900/50 dark:border-gray-600",border:"border-green-500",iconColor:"text-green-600 dark:text-green-400",text:"text-green-700 dark:text-green-300"},none:{icon:Da.Z,background:"bg-gray-50 border-gray-200 dark:bg-gray-800/50 dark:border-gray-600",border:"border-gray-500",iconColor:"text-gray-600 dark:text-gray-400",text:"text-gray-700 dark:text-gray-300"}},i=(0,l.Fl)((()=>t.announcements&&t.announcements.length>0?t.announcements[0]:null)),u=(0,l.Fl)((()=>{const e=i.value?.type||"none";return o[e]?.icon||Da.Z})),d=(0,l.Fl)((()=>{const e=i.value?.type||"none";return o[e]?.iconColor||"text-gray-600 dark:text-gray-400"})),c=(0,l.Fl)((()=>{const e=i.value?.type||"none",t=o[e];return`border-l-4 ${t.border.replace("border-","border-l-")}`})),g=(0,l.Fl)((()=>{if(!t.announcements||0===t.announcements.length)return{};const e={};return t.announcements.forEach((t=>{const a=new Date(t.timestamp).toDateString();e[a]||(e[a]=[]),e[a].push(t)})),e})),m=e=>o[e]?.icon||Da.Z,v=e=>o[e]||o.none,p=e=>{const t=new Date(e),a=new Date,s=new Date(a);return s.setDate(s.getDate()-1),t.toDateString()===a.toDateString()?"Today":t.toDateString()===s.toDateString()?"Yesterday":t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},f=e=>new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),w=e=>new Date(e).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:"short"});return(t,o)=>e.announcements&&e.announcements.length?((0,l.wg)(),(0,l.iD)("div",ja,[(0,l._)("div",{class:(0,n.C_)(["rounded-lg border bg-card text-card-foreground shadow-sm transition-all duration-200",c.value])},[(0,l._)("div",{class:(0,n.C_)(["announcement-header px-4 py-3 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",a.value?"rounded-lg":"rounded-t-lg border-b border-gray-200 dark:border-gray-600"]),onClick:s},[(0,l._)("div",Ea,[(0,l._)("div",Ta,[((0,l.wg)(),(0,l.j4)((0,l.LL)(u.value),{class:(0,n.C_)(["w-5 h-5",d.value])},null,8,["class"])),o[0]||(o[0]=(0,l._)("h2",{class:"text-base font-semibold text-gray-900 dark:text-gray-100"},"Announcements",-1)),(0,l._)("span",Fa," ("+(0,n.zw)(e.announcements.length)+") ",1)]),(0,l.Wm)((0,r.SU)(Ie.Z),{class:(0,n.C_)(["w-4 h-4 text-gray-500 dark:text-gray-400 transition-transform duration-200",a.value?"-rotate-90":"rotate-0"])},null,8,["class"])])],2),a.value?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",Ra,[(0,l._)("div",Aa,[(0,l._)("div",qa,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(g.value,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:"relative"},[(0,l._)("div",$a,[(0,l._)("div",La,[(0,l._)("time",Na,(0,n.zw)(p(t)),1)]),o[1]||(o[1]=(0,l._)("div",{class:"flex-1 border-t border-gray-200 dark:border-gray-600"},null,-1))]),(0,l._)("div",Za,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e,((a,s)=>((0,l.wg)(),(0,l.iD)("div",{key:`${t}-${s}-${a.timestamp}`,class:"relative"},[(0,l._)("div",{class:(0,n.C_)(["absolute -left-[26px] w-5 h-5 rounded-full border bg-white dark:bg-gray-800 flex items-center justify-center z-10",s===e.length-1?"top-3":"top-1/2 -translate-y-1/2",v(a.type).border])},[((0,l.wg)(),(0,l.j4)((0,l.LL)(m(a.type)),{class:(0,n.C_)(["w-3 h-3",v(a.type).iconColor])},null,8,["class"]))],2),0===s?((0,l.wg)(),(0,l.iD)("div",Ma)):(0,l.kq)("",!0),s<e.length-1?((0,l.wg)(),(0,l.iD)("div",{key:1,class:"absolute w-0.5 bg-gray-300 dark:bg-gray-600 pointer-events-none",style:(0,n.j5)({left:"-16px",top:"50%",height:s===e.length-2?"calc(50% + 1.25rem)":"calc(50% + 2rem)"})},null,4)):(0,l.kq)("",!0),(0,l._)("div",{class:(0,n.C_)(["rounded-md border p-3 transition-all duration-200 hover:shadow-sm",v(a.type).background])},[(0,l._)("div",Oa,[(0,l._)("time",{class:(0,n.C_)(["text-sm font-mono whitespace-nowrap flex-shrink-0",v(a.type).text]),title:w(a.timestamp)},(0,n.zw)(f(a.timestamp)),11,Pa),(0,l._)("div",Ia,[(0,l._)("p",{class:"text-sm leading-relaxed text-gray-900 dark:text-gray-100",innerHTML:(0,r.SU)(Ha)(a.message)},null,8,Ya)])])],2)])))),128))])])))),128))])])]))],2)])):(0,l.kq)("",!0)}};const Ka=(0,F.Z)(Va,[["__scopeId","data-v-f1600768"]]);var Ga=Ka;const Ba={key:0,class:"past-announcements"},Ja={class:"space-y-8"},Qa={class:"mb-3"},Xa={class:"text-sm font-semibold text-muted-foreground uppercase tracking-wider"},es={key:0,class:"space-y-3"},ts={class:"flex items-start gap-3"},as=["title"],ss={class:"flex-1 min-w-0"},ls=["innerHTML"],ns={key:1,class:"py-2"},rs={key:0};var os={__name:"PastAnnouncements",props:{announcements:{type:Array,default:()=>[]}},setup(e){const t=e,a=(0,r.iH)(!1),s={outage:{icon:ka.Z,background:"bg-red-50 dark:bg-red-900/20",borderColor:"border-red-500 dark:border-red-400",iconColor:"text-red-600 dark:text-red-400",text:"text-red-700 dark:text-red-300"},warning:{icon:_a.Z,background:"bg-yellow-50 dark:bg-yellow-900/20",borderColor:"border-yellow-500 dark:border-yellow-400",iconColor:"text-yellow-600 dark:text-yellow-400",text:"text-yellow-700 dark:text-yellow-300"},information:{icon:Sa.Z,background:"bg-blue-50 dark:bg-blue-900/20",borderColor:"border-blue-500 dark:border-blue-400",iconColor:"text-blue-600 dark:text-blue-400",text:"text-blue-700 dark:text-blue-300"},operational:{icon:Ve.Z,background:"bg-green-50 dark:bg-green-900/20",borderColor:"border-green-500 dark:border-green-400",iconColor:"text-green-600 dark:text-green-400",text:"text-green-700 dark:text-green-300"},none:{icon:Da.Z,background:"bg-gray-50 dark:bg-gray-800/20",borderColor:"border-gray-500 dark:border-gray-400",iconColor:"text-gray-600 dark:text-gray-400",text:"text-gray-700 dark:text-gray-300"}},o=e=>{const t=new Date(e);return t.setHours(0,0,0,0),t},i=(0,l.Fl)((()=>{if(!t.announcements?.length)return{};const e={};let s=new Date;t.announcements.forEach((t=>{const a=new Date(t.timestamp),l=a.toDateString();e[l]=e[l]||[],e[l].push(t),a<s&&(s=a)}));const l=o(new Date),n=a.value?o(s):new Date(l.getTime()-12096e5),r={},i=l.toDateString();e[i]&&(r[i]=e[i]);for(let t=new Date(l.getTime()-864e5);t>=n;t.setDate(t.getDate()-1))r[t.toDateString()]=e[t.toDateString()]||[];return r})),u=(0,l.Fl)((()=>{if(!t.announcements?.length)return!1;const e=new Date(o(new Date).getTime()-12096e5);return t.announcements.some((t=>new Date(t.timestamp)<e))})),d=e=>s[e]?.icon||Da.Z,c=e=>s[e]||s.none,g=e=>{const t=new Date(e);return t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},m=e=>new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),v=e=>new Date(e).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:"short"});return(t,s)=>e.announcements&&e.announcements.length?((0,l.wg)(),(0,l.iD)("div",Ba,[s[3]||(s[3]=(0,l._)("h2",{class:"text-2xl font-semibold text-foreground mb-6"},"Past Announcements",-1)),(0,l._)("div",Ja,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.value,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t},[(0,l._)("div",Qa,[(0,l._)("h3",Xa,(0,n.zw)(g(t)),1)]),e.length>0?((0,l.wg)(),(0,l.iD)("div",es,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e,((e,a)=>((0,l.wg)(),(0,l.iD)("div",{key:`${t}-${a}-${e.timestamp}`,class:(0,n.C_)(["border-l-4 p-4 transition-all duration-200",c(e.type).background,c(e.type).borderColor])},[(0,l._)("div",ts,[((0,l.wg)(),(0,l.j4)((0,l.LL)(d(e.type)),{class:(0,n.C_)(["w-5 h-5 flex-shrink-0 mt-0.5",c(e.type).iconColor])},null,8,["class"])),(0,l._)("time",{class:(0,n.C_)(["text-sm font-mono whitespace-nowrap flex-shrink-0 mt-0.5",c(e.type).text]),title:v(e.timestamp)},(0,n.zw)(m(e.timestamp)),11,as),(0,l._)("div",ss,[(0,l._)("p",{class:"text-sm leading-relaxed text-gray-900 dark:text-gray-100",innerHTML:(0,r.SU)(Ha)(e.message)},null,8,ls)])])],2)))),128))])):((0,l.wg)(),(0,l.iD)("div",ns,s[1]||(s[1]=[(0,l._)("p",{class:"text-sm italic text-muted-foreground/60"}," No incidents reported on this day ",-1)])))])))),128)),u.value&&!a.value?((0,l.wg)(),(0,l.iD)("div",rs,[(0,l._)("button",{onClick:s[0]||(s[0]=e=>a.value=!0),class:"inline-flex items-center gap-2 text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors duration-200 cursor-pointer group"},[(0,l.Wm)((0,r.SU)(Ie.Z),{class:"w-4 h-4 group-hover:translate-y-0.5 transition-transform duration-200"}),s[2]||(s[2]=(0,l._)("span",{class:"group-hover:underline"},"View older announcements",-1))])])):(0,l.kq)("",!0)])])):(0,l.kq)("",!0)}};const is=os;var us=is;const ds={class:"dashboard-container bg-background"},cs={class:"container mx-auto px-4 py-8 max-w-7xl"},gs={class:"mb-6"},ms={class:"flex items-center justify-between mb-6"},vs={class:"text-4xl font-bold tracking-tight"},ps={class:"text-muted-foreground mt-2"},fs={class:"flex items-center gap-4"},ws={key:0,class:"flex items-center justify-center py-20"},hs={key:1,class:"text-center py-20"},xs={class:"text-muted-foreground"},bs={key:2},ys={key:0,class:"space-y-6"},ks=["onClick"],_s={class:"flex items-center gap-3"},Ss={class:"text-xl font-semibold text-foreground"},Ds={class:"flex items-center gap-2"},Us={key:0,class:"bg-red-600 text-white px-2 py-1 rounded-full text-sm font-medium"},Cs={key:0,class:"endpoint-group-content p-4"},Ws={key:0,class:"mb-4"},zs={class:"grid gap-3 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"},Hs={key:1},js={key:0,class:"text-sm font-semibold text-muted-foreground uppercase tracking-wider mb-3"},Es={class:"grid gap-3 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"},Ts={key:1},Fs={key:0,class:"mb-6"},Rs={class:"grid gap-3 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"},As={key:1},qs={key:0,class:"text-lg font-semibold text-foreground mb-3"},$s={class:"grid gap-3 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"},Ls={key:2,class:"mt-8 flex items-center justify-center gap-2"},Ns={class:"flex gap-1"},Zs={key:3,class:"mt-12 pb-8"},Ms=96,Os=50;var Ps={__name:"Home",props:{announcements:{type:Array,default:()=>[]}},emits:["showTooltip"],setup(e,{emit:t}){const a=e,s=(0,l.Fl)((()=>a.announcements?a.announcements.filter((e=>!e.archived)):[])),o=(0,l.Fl)((()=>a.announcements?a.announcements.filter((e=>e.archived)):[])),i=t,u=(0,r.iH)([]),d=(0,r.iH)([]),c=(0,r.iH)(!1),g=(0,r.iH)(1),m=(0,r.iH)(""),v=(0,r.iH)(!1),p=(0,r.iH)(!1),f=(0,r.iH)("false"!==localStorage.getItem("gatus:show-average-response-time")),w=(0,r.iH)(!1),h=(0,r.iH)(localStorage.getItem("gatus:sort-by")||"name"),b=(0,r.iH)(new Set),y=(0,l.Fl)((()=>{let e=[...u.value];if(m.value){const t=m.value.toLowerCase();e=e.filter((e=>e.name.toLowerCase().includes(t)||e.group&&e.group.toLowerCase().includes(t)))}return v.value&&(e=e.filter((e=>{if(!e.results||0===e.results.length)return!1;const t=e.results[e.results.length-1];return!t.success}))),p.value&&(e=e.filter((e=>!(!e.results||0===e.results.length)&&e.results.some((e=>!e.success))))),"health"===h.value&&e.sort(((e,t)=>{const a=e.results&&e.results.length>0&&e.results[e.results.length-1].success,s=t.results&&t.results.length>0&&t.results[t.results.length-1].success;return!a&&s?-1:a&&!s?1:e.name.localeCompare(t.name)})),e})),k=(0,l.Fl)((()=>{let e=[...d.value||[]];if(m.value){const t=m.value.toLowerCase();e=e.filter((e=>e.name.toLowerCase().includes(t)||e.group&&e.group.toLowerCase().includes(t)))}return v.value&&(e=e.filter((e=>!(!e.results||0===e.results.length)&&!e.results[e.results.length-1].success))),p.value&&(e=e.filter((e=>!(!e.results||0===e.results.length)&&e.results.some((e=>!e.success))))),"health"===h.value&&e.sort(((e,t)=>{const a=e.results&&e.results.length>0&&e.results[e.results.length-1].success,s=t.results&&t.results.length>0&&t.results[t.results.length-1].success;return!a&&s?-1:a&&!s?1:e.name.localeCompare(t.name)})),e})),_=(0,l.Fl)((()=>Math.ceil((y.value.length+k.value.length)/Ms))),S=(0,l.Fl)((()=>{if(!w.value)return null;const e={};y.value.forEach((t=>{const a=t.group||"No Group";e[a]||(e[a]=[]),e[a].push(t)}));const t=Object.keys(e).sort(((e,t)=>"No Group"===e?1:"No Group"===t?-1:e.localeCompare(t))),a={};return t.forEach((t=>{a[t]=e[t]})),a})),D=(0,l.Fl)((()=>{if(!w.value)return null;const e={};y.value.forEach((t=>{const a=t.group||"No Group";e[a]||(e[a]={endpoints:[],suites:[]}),e[a].endpoints.push(t)})),k.value.forEach((t=>{const a=t.group||"No Group";e[a]||(e[a]={endpoints:[],suites:[]}),e[a].suites.push(t)}));const t=Object.keys(e).sort(((e,t)=>"No Group"===e?1:"No Group"===t?-1:e.localeCompare(t))),a={};return t.forEach((t=>{a[t]=e[t]})),a})),U=(0,l.Fl)((()=>{if(w.value)return S.value;const e=(g.value-1)*Ms,t=e+Ms;return y.value.slice(e,t)})),C=(0,l.Fl)((()=>{if(w.value)return k.value;const e=(g.value-1)*Ms,t=e+Ms;return k.value.slice(e,t)})),W=(0,l.Fl)((()=>{const e=[],t=5;let a=Math.max(1,g.value-Math.floor(t/2)),s=Math.min(_.value,a+t-1);s-a<t-1&&(a=Math.max(1,s-t+1));for(let l=a;l<=s;l++)e.push(l);return e})),z=async()=>{const e=0===u.value.length&&0===d.value.length;e&&(c.value=!0);try{const t=await fetch(`/api/v1/endpoints/statuses?page=1&pageSize=${Os}`,{credentials:"include"});if(200===t.status){const e=await t.json();u.value=e}else console.error("[Home][fetchData] Error fetching endpoints:",await t.text());const a=await fetch(`/api/v1/suites/statuses?page=1&pageSize=${Os}`,{credentials:"include"});if(200===a.status){const e=await a.json();d.value=e||[]}else console.error("[Home][fetchData] Error fetching suites:",await a.text()),d.value||(d.value=[])}catch(t){console.error("[Home][fetchData] Error:",t)}finally{e&&(c.value=!1)}},H=()=>{u.value=[],d.value=[],z()},j=e=>{m.value=e,g.value=1},E=e=>{g.value=e,window.scrollTo({top:0,behavior:"smooth"})},T=()=>{f.value=!f.value,localStorage.setItem("gatus:show-average-response-time",f.value?"true":"false")},F=(e,t,a="hover")=>{i("showTooltip",e,t,a)},R=e=>e.filter((e=>{if(!e.results||0===e.results.length)return!1;const t=e.results[e.results.length-1];return!t.success})).length,A=e=>e.filter((e=>!(!e.results||0===e.results.length)&&!e.results[e.results.length-1].success)).length,q=e=>{b.value.has(e)?b.value.delete(e):b.value.add(e);const t=Array.from(b.value);localStorage.setItem("gatus:uncollapsed-groups",JSON.stringify(t)),localStorage.removeItem("gatus:collapsed-groups")},$=()=>{try{const e=localStorage.getItem("gatus:uncollapsed-groups");e&&(b.value=new Set(JSON.parse(e)))}catch(e){console.warn("Failed to parse saved uncollapsed groups:",e),localStorage.removeItem("gatus:uncollapsed-groups")}},L=(0,l.Fl)((()=>window.config&&window.config.dashboardHeading&&"{{ .UI.DashboardHeading }}"!==window.config.dashboardHeading?window.config.dashboardHeading:"Health Dashboard")),N=(0,l.Fl)((()=>window.config&&window.config.dashboardSubheading&&"{{ .UI.DashboardSubheading }}"!==window.config.dashboardSubheading?window.config.dashboardSubheading:"Monitor the health of your endpoints in real-time"));return(0,l.bv)((()=>{z()})),(e,t)=>((0,l.wg)(),(0,l.iD)("div",ds,[(0,l._)("div",cs,[(0,l._)("div",gs,[(0,l._)("div",ms,[(0,l._)("div",null,[(0,l._)("h1",vs,(0,n.zw)(L.value),1),(0,l._)("p",ps,(0,n.zw)(N.value),1)]),(0,l._)("div",fs,[(0,l.Wm)((0,r.SU)(x),{variant:"ghost",size:"icon",onClick:T,title:f.value?"Show min-max response time":"Show average response time"},{default:(0,l.w5)((()=>[f.value?((0,l.wg)(),(0,l.j4)((0,r.SU)(Ze.Z),{key:0,class:"h-5 w-5"})):((0,l.wg)(),(0,l.j4)((0,r.SU)(Me.Z),{key:1,class:"h-5 w-5"}))])),_:1},8,["title"]),(0,l.Wm)((0,r.SU)(x),{variant:"ghost",size:"icon",onClick:H,title:"Refresh data"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(Oe.Z),{class:"h-5 w-5"})])),_:1})])]),(0,l.Wm)(Ga,{announcements:s.value},null,8,["announcements"]),(0,l.Wm)(ra,{onSearch:j,"onUpdate:showOnlyFailing":t[0]||(t[0]=e=>v.value=e),"onUpdate:showRecentFailures":t[1]||(t[1]=e=>p.value=e),"onUpdate:groupByGroup":t[2]||(t[2]=e=>w.value=e),"onUpdate:sortBy":t[3]||(t[3]=e=>h.value=e),onInitializeCollapsedGroups:$})]),c.value?((0,l.wg)(),(0,l.iD)("div",ws,[(0,l.Wm)(de,{size:"lg"})])):0===y.value.length&&0===k.value.length?((0,l.wg)(),(0,l.iD)("div",hs,[(0,l.Wm)((0,r.SU)(Pe.Z),{class:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),t[6]||(t[6]=(0,l._)("h3",{class:"text-lg font-semibold mb-2"},"No endpoints or suites found",-1)),(0,l._)("p",xs,(0,n.zw)(m.value||v.value||p.value?"Try adjusting your filters":"No endpoints or suites are configured"),1)])):((0,l.wg)(),(0,l.iD)("div",bs,[w.value?((0,l.wg)(),(0,l.iD)("div",ys,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(D.value,((e,a)=>((0,l.wg)(),(0,l.iD)("div",{key:a,class:"endpoint-group border rounded-lg overflow-hidden"},[(0,l._)("div",{onClick:e=>q(a),class:"endpoint-group-header flex items-center justify-between p-4 bg-card border-b cursor-pointer hover:bg-accent/50 transition-colors"},[(0,l._)("div",_s,[b.value.has(a)?((0,l.wg)(),(0,l.j4)((0,r.SU)(Ie.Z),{key:0,class:"h-5 w-5 text-muted-foreground"})):((0,l.wg)(),(0,l.j4)((0,r.SU)(Ye.Z),{key:1,class:"h-5 w-5 text-muted-foreground"})),(0,l._)("h2",Ss,(0,n.zw)(a),1)]),(0,l._)("div",Ds,[R(e.endpoints)+A(e.suites)>0?((0,l.wg)(),(0,l.iD)("span",Us,(0,n.zw)(R(e.endpoints)+A(e.suites)),1)):((0,l.wg)(),(0,l.j4)((0,r.SU)(Ve.Z),{key:1,class:"h-6 w-6 text-green-600"}))])],8,ks),b.value.has(a)?((0,l.wg)(),(0,l.iD)("div",Cs,[e.suites.length>0?((0,l.wg)(),(0,l.iD)("div",Ws,[t[7]||(t[7]=(0,l._)("h3",{class:"text-sm font-semibold text-muted-foreground uppercase tracking-wider mb-3"},"Suites",-1)),(0,l._)("div",zs,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.suites,(e=>((0,l.wg)(),(0,l.j4)(At,{key:e.key,suite:e,maxResults:Os,onShowTooltip:F},null,8,["suite"])))),128))])])):(0,l.kq)("",!0),e.endpoints.length>0?((0,l.wg)(),(0,l.iD)("div",Hs,[e.suites.length>0?((0,l.wg)(),(0,l.iD)("h3",js,"Endpoints")):(0,l.kq)("",!0),(0,l._)("div",Es,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.endpoints,(e=>((0,l.wg)(),(0,l.j4)(ht,{key:e.key,endpoint:e,maxResults:Os,showAverageResponseTime:f.value,onShowTooltip:F},null,8,["endpoint","showAverageResponseTime"])))),128))])])):(0,l.kq)("",!0)])):(0,l.kq)("",!0)])))),128))])):((0,l.wg)(),(0,l.iD)("div",Ts,[k.value.length>0?((0,l.wg)(),(0,l.iD)("div",Fs,[t[8]||(t[8]=(0,l._)("h2",{class:"text-lg font-semibold text-foreground mb-3"},"Suites",-1)),(0,l._)("div",Rs,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(C.value,(e=>((0,l.wg)(),(0,l.j4)(At,{key:e.key,suite:e,maxResults:Os,onShowTooltip:F},null,8,["suite"])))),128))])])):(0,l.kq)("",!0),y.value.length>0?((0,l.wg)(),(0,l.iD)("div",As,[k.value.length>0?((0,l.wg)(),(0,l.iD)("h2",qs,"Endpoints")):(0,l.kq)("",!0),(0,l._)("div",$s,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(U.value,(e=>((0,l.wg)(),(0,l.j4)(ht,{key:e.key,endpoint:e,maxResults:Os,showAverageResponseTime:f.value,onShowTooltip:F},null,8,["endpoint","showAverageResponseTime"])))),128))])])):(0,l.kq)("",!0)])),!w.value&&_.value>1?((0,l.wg)(),(0,l.iD)("div",Ls,[(0,l.Wm)((0,r.SU)(x),{variant:"outline",size:"icon",disabled:1===g.value,onClick:t[4]||(t[4]=e=>E(g.value-1))},{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(Ke.Z),{class:"h-4 w-4"})])),_:1},8,["disabled"]),(0,l._)("div",Ns,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(W.value,(e=>((0,l.wg)(),(0,l.j4)((0,r.SU)(x),{key:e,variant:e===g.value?"default":"outline",size:"sm",onClick:t=>E(e)},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e),1)])),_:2},1032,["variant","onClick"])))),128))]),(0,l.Wm)((0,r.SU)(x),{variant:"outline",size:"icon",disabled:g.value===_.value,onClick:t[5]||(t[5]=e=>E(g.value+1))},{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(Ge.Z),{class:"h-4 w-4"})])),_:1},8,["disabled"])])):(0,l.kq)("",!0)])),o.value.length>0?((0,l.wg)(),(0,l.iD)("div",Zs,[(0,l.Wm)(us,{announcements:o.value},null,8,["announcements"])])):(0,l.kq)("",!0)]),(0,l.Wm)(ya,{onRefreshData:z})]))}};const Is=Ps;var Ys=Is,Vs=a(318),Ks=a(779),Gs=a(141),Bs=a(478);const Js={class:"flex items-center justify-between"},Qs={class:"text-sm text-muted-foreground"};var Xs={__name:"Pagination",props:{numberOfResultsPerPage:Number,currentPageProp:{type:Number,default:1}},emits:["page"],setup(e,{emit:t}){const a=e,s=t,o=(0,r.iH)(a.currentPageProp),i=(0,l.Fl)((()=>{let e=100;if("undefined"!==typeof window&&window.config&&window.config.maximumNumberOfResults){const t=parseInt(window.config.maximumNumberOfResults);isNaN(t)||(e=t)}return Math.ceil(e/a.numberOfResultsPerPage)})),u=()=>{o.value--,s("page",o.value)},d=()=>{o.value++,s("page",o.value)};return(e,t)=>((0,l.wg)(),(0,l.iD)("div",Js,[(0,l.Wm)((0,r.SU)(x),{variant:"outline",size:"sm",disabled:o.value>=i.value,onClick:d,class:"flex items-center gap-1"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(Ke.Z),{class:"h-4 w-4"}),t[0]||(t[0]=(0,l.Uk)(" Previous ",-1))])),_:1,__:[0]},8,["disabled"]),(0,l._)("span",Qs," Page "+(0,n.zw)(o.value)+" of "+(0,n.zw)(i.value),1),(0,l.Wm)((0,r.SU)(x),{variant:"outline",size:"sm",disabled:o.value<=1,onClick:u,class:"flex items-center gap-1"},{default:(0,l.w5)((()=>[t[1]||(t[1]=(0,l.Uk)(" Next ",-1)),(0,l.Wm)((0,r.SU)(Ge.Z),{class:"h-4 w-4"})])),_:1,__:[1]},8,["disabled"])]))}};const el=Xs;var tl=el,al=a(334),sl=a(148),ll=a(282);a(210);const nl={class:"relative w-full",style:{height:"300px"}},rl={key:0,class:"absolute inset-0 flex items-center justify-center bg-background/50"},ol={key:1,class:"absolute inset-0 flex items-center justify-center text-muted-foreground"};var il={__name:"ResponseTimeChart",props:{endpointKey:{type:String,required:!0},duration:{type:String,required:!0,validator:e=>["24h","7d","30d"].includes(e)},serverUrl:{type:String,default:".."},events:{type:Array,default:()=>[]}},setup(e){sl.kL.register(sl.uw,sl.f$,sl.od,sl.jn,sl.Dx,sl.u,sl.De,sl.Gu,sl.FB,ll.Z);const t=e,a=(0,r.iH)(!0),s=(0,r.iH)(null),o=(0,r.iH)([]),i=(0,r.iH)([]),u=(0,r.iH)(document.documentElement.classList.contains("dark")),d=(0,r.iH)(null),c=()=>"rgba(239, 68, 68, 0.8)",g=(0,l.Fl)((()=>{if(!t.events||0===t.events.length)return[];const e=new Date;let a;switch(t.duration){case"24h":a=new Date(e.getTime()-864e5);break;case"7d":a=new Date(e.getTime()-6048e5);break;case"30d":a=new Date(e.getTime()-2592e6);break;default:return[]}const s=[];for(let l=0;l<t.events.length;l++){const n=t.events[l];if("UNHEALTHY"!==n.type)continue;const r=new Date(n.timestamp);if(r<a||r>e)continue;let o=null,i=!1;if(l+1<t.events.length){const e=t.events[l+1];o=L(e.timestamp,n.timestamp)}else o=L(e,n.timestamp),i=!0;s.push({...n,duration:o,isOngoing:i})}return s})),m=(0,l.Fl)((()=>{if(0===o.value.length)return{labels:[],datasets:[]};const e=o.value.map((e=>new Date(e)));return{labels:e,datasets:[{label:"Response Time (ms)",data:i.value,borderColor:u.value?"rgb(96, 165, 250)":"rgb(59, 130, 246)",backgroundColor:u.value?"rgba(96, 165, 250, 0.1)":"rgba(59, 130, 246, 0.1)",borderWidth:2,pointRadius:2,pointHoverRadius:4,tension:.1,fill:!0}]}})),v=(0,l.Fl)((()=>{d.value;const e=i.value.length>0?Math.max(...i.value):0,a=e/2;return{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!1},tooltip:{backgroundColor:u.value?"rgba(31, 41, 55, 0.95)":"rgba(255, 255, 255, 0.95)",titleColor:u.value?"#f9fafb":"#111827",bodyColor:u.value?"#d1d5db":"#374151",borderColor:u.value?"#4b5563":"#e5e7eb",borderWidth:1,padding:12,displayColors:!1,callbacks:{title:e=>{if(e.length>0){const t=new Date(e[0].parsed.x);return t.toLocaleString()}return""},label:e=>{const t=e.parsed.y;return`${t}ms`}}},annotation:{annotations:g.value.reduce(((e,t,s)=>{const l=new Date(t.timestamp).getTime();let n=0;if(o.value.length>0&&i.value.length>0){const e=o.value.reduce(((e,t,a)=>{const s=new Date(t).getTime(),n=Math.abs(s-l),r=Math.abs(new Date(o.value[e]).getTime()-l);return n<r?a:e}),0);n=i.value[e]}const r=n<=a?"end":"start";return e[`event-${s}`]={type:"line",xMin:new Date(t.timestamp),xMax:new Date(t.timestamp),borderColor:c(),borderWidth:1,borderDash:[5,5],enter(){d.value=s},leave(){d.value=null},label:{display:()=>d.value===s,content:[t.isOngoing?"Status: ONGOING":"Status: RESOLVED",`Unhealthy for ${t.duration}`,`Started at ${new Date(t.timestamp).toLocaleString()}`],backgroundColor:c(),color:"#ffffff",font:{size:11},padding:6,position:r}},e}),{})}},scales:{x:{type:"time",time:{unit:"24h"===t.duration?"hour":(t.duration,"day"),displayFormats:{hour:"MMM d, ha",day:"MMM d"}},grid:{color:u.value?"rgba(75, 85, 99, 0.3)":"rgba(229, 231, 235, 0.8)",drawBorder:!1},ticks:{color:u.value?"#9ca3af":"#6b7280",maxRotation:0,autoSkipPadding:20}},y:{beginAtZero:!0,grid:{color:u.value?"rgba(75, 85, 99, 0.3)":"rgba(229, 231, 235, 0.8)",drawBorder:!1},ticks:{color:u.value?"#9ca3af":"#6b7280",callback:e=>`${e}ms`}}}}})),p=async()=>{a.value=!0,s.value=null;try{const e=await fetch(`${t.serverUrl}/api/v1/endpoints/${t.endpointKey}/response-times/${t.duration}/history`,{credentials:"include"});if(200===e.status){const t=await e.json();o.value=t.timestamps||[],i.value=t.values||[]}else s.value="Failed to load chart data",console.error("[ResponseTimeChart] Error:",await e.text())}catch(e){s.value="Failed to load chart data",console.error("[ResponseTimeChart] Error:",e)}finally{a.value=!1}};return(0,l.YP)((()=>t.duration),(()=>{p()})),(0,l.bv)((()=>{p();const e=new MutationObserver((()=>{u.value=document.documentElement.classList.contains("dark")}));e.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),(0,l.Ah)((()=>e.disconnect()))})),(e,t)=>((0,l.wg)(),(0,l.iD)("div",nl,[a.value?((0,l.wg)(),(0,l.iD)("div",rl,[(0,l.Wm)(de)])):s.value?((0,l.wg)(),(0,l.iD)("div",ol,(0,n.zw)(s.value),1)):((0,l.wg)(),(0,l.j4)((0,r.SU)(al.x1),{key:2,data:m.value,options:v.value},null,8,["data","options"]))]))}};const ul=il;var dl=ul;const cl={class:"dashboard-container bg-background"},gl={class:"container mx-auto px-4 py-8 max-w-7xl"},ml={class:"mb-6"},vl={key:0,class:"space-y-6"},pl={class:"flex items-start justify-between"},fl={class:"text-4xl font-bold tracking-tight"},wl={class:"flex items-center gap-3 text-muted-foreground mt-2"},hl={key:0},xl={key:1},bl={key:2},yl={class:"grid gap-6 md:grid-cols-2 lg:grid-cols-4"},kl={class:"text-2xl font-bold"},_l={class:"text-2xl font-bold"},Sl={class:"text-2xl font-bold"},Dl={class:"text-2xl font-bold"},Ul={class:"flex items-center justify-between"},Cl={class:"flex items-center gap-2"},Wl={class:"space-y-4"},zl={key:1,class:"pt-4 border-t"},Hl={key:0,class:"space-y-6"},jl={class:"flex items-center justify-between"},El={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-4"},Tl=["src","alt"],Fl={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-4"},Rl={class:"text-sm text-muted-foreground mb-2"},Al=["src","alt"],ql={class:"text-center"},$l=["src"],Ll={class:"space-y-4"},Nl={class:"mt-1"},Zl={class:"flex-1"},Ml={class:"font-medium"},Ol={class:"text-sm text-muted-foreground"},Pl={key:1,class:"flex items-center justify-center py-20"},Il=50;var Yl={__name:"EndpointDetails",emits:["showTooltip"],setup(e,{emit:t}){const a=(0,i.tv)(),o=(0,i.yj)(),u=t,d=(0,r.iH)(null),c=(0,r.iH)(null),g=(0,r.iH)([]),m=(0,r.iH)(1),v=(0,r.iH)(!1),p=(0,r.iH)("false"!==localStorage.getItem("gatus:show-average-response-time")),f=(0,r.iH)("24h"),w=(0,r.iH)(!1),h=(0,l.Fl)((()=>c.value&&c.value.results&&0!==c.value.results.length?c.value.results[c.value.results.length-1]:null)),b=(0,l.Fl)((()=>h.value?h.value.success?"healthy":"unhealthy":"unknown")),y=(0,l.Fl)((()=>h.value?.hostname||null)),_=()=>{p.value=!p.value,localStorage.setItem("gatus:show-average-response-time",p.value?"true":"false")},S=(0,l.Fl)((()=>{if(!d.value||!d.value.results||0===d.value.results.length)return"N/A";let e=0,t=0;for(const a of d.value.results)a.duration&&(e+=a.duration,t++);return 0===t?"N/A":`${Math.round(e/t/1e6)}ms`})),U=(0,l.Fl)((()=>{if(!d.value||!d.value.results||0===d.value.results.length)return"N/A";let e=1/0,t=0,a=!1;for(const n of d.value.results){const s=n.duration;s&&(e=Math.min(e,s),t=Math.max(t,s),a=!0)}if(!a)return"N/A";const s=Math.trunc(e/1e6),l=Math.trunc(t/1e6);return s===l?`${s}ms`:`${s}-${l}ms`})),C=(0,l.Fl)((()=>c.value&&c.value.results&&0!==c.value.results.length?$(c.value.results[c.value.results.length-1].timestamp):"Never")),z=async()=>{w.value=!0;try{const e=await fetch(`/api/v1/endpoints/${o.params.key}/statuses?page=${m.value}&pageSize=${Il}`,{credentials:"include"});if(200===e.status){const t=await e.json();d.value=t,1===m.value&&(c.value=t);let a=[];if(t.events&&t.events.length>0)for(let e=t.events.length-1;e>=0;e--){let s=t.events[e];if(e===t.events.length-1)"UNHEALTHY"===s.type?s.fancyText="Endpoint is unhealthy":"HEALTHY"===s.type?s.fancyText="Endpoint is healthy":"START"===s.type&&(s.fancyText="Monitoring started");else{let a=t.events[e+1];"HEALTHY"===s.type?s.fancyText="Endpoint became healthy":"UNHEALTHY"===s.type?s.fancyText=a?"Endpoint was unhealthy for "+L(a.timestamp,s.timestamp):"Endpoint became unhealthy":"START"===s.type&&(s.fancyText="Monitoring started")}s.fancyTimeAgo=$(s.timestamp),a.push(s)}if(g.value=a,t.results&&t.results.length>0)for(let e=0;e<t.results.length;e++)if(t.results[e].duration>0){v.value=!0;break}}else console.error("[Details][fetchData] Error:",await e.text())}catch(e){console.error("[Details][fetchData] Error:",e)}finally{w.value=!1}},H=()=>{a.push("/")},E=e=>{m.value=e,z()},T=(e,t,a="hover")=>{u("showTooltip",e,t,a)},F=e=>new Date(e).toLocaleString(),R=()=>`/api/v1/endpoints/${d.value.key}/health/badge.svg`,A=e=>`/api/v1/endpoints/${d.value.key}/uptimes/${e}/badge.svg`,q=e=>`/api/v1/endpoints/${d.value.key}/response-times/${e}/badge.svg`;return(0,l.bv)((()=>{z()})),(e,t)=>((0,l.wg)(),(0,l.iD)("div",cl,[(0,l._)("div",gl,[(0,l._)("div",ml,[(0,l.Wm)((0,r.SU)(x),{variant:"ghost",class:"mb-4",onClick:H},{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(Vs.Z),{class:"h-4 w-4 mr-2"}),t[1]||(t[1]=(0,l.Uk)(" Back to Dashboard ",-1))])),_:1,__:[1]}),d.value&&d.value.name?((0,l.wg)(),(0,l.iD)("div",vl,[(0,l._)("div",pl,[(0,l._)("div",null,[(0,l._)("h1",fl,(0,n.zw)(d.value.name),1),(0,l._)("div",wl,[d.value.group?((0,l.wg)(),(0,l.iD)("span",hl,"Group: "+(0,n.zw)(d.value.group),1)):(0,l.kq)("",!0),d.value.group&&y.value?((0,l.wg)(),(0,l.iD)("span",xl,"•")):(0,l.kq)("",!0),y.value?((0,l.wg)(),(0,l.iD)("span",bl,(0,n.zw)(y.value),1)):(0,l.kq)("",!0)])]),(0,l.Wm)(tt,{status:b.value},null,8,["status"])]),(0,l._)("div",yl,[(0,l.Wm)((0,r.SU)(k),null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(D),{class:"pb-2"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(W),{class:"text-sm font-medium text-muted-foreground"},{default:(0,l.w5)((()=>t[2]||(t[2]=[(0,l.Uk)("Current Status",-1)]))),_:1,__:[2]})])),_:1}),(0,l.Wm)((0,r.SU)(j),null,{default:(0,l.w5)((()=>[(0,l._)("div",kl,(0,n.zw)("healthy"===b.value?"Operational":"Issues Detected"),1)])),_:1})])),_:1}),(0,l.Wm)((0,r.SU)(k),null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(D),{class:"pb-2"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(W),{class:"text-sm font-medium text-muted-foreground"},{default:(0,l.w5)((()=>t[3]||(t[3]=[(0,l.Uk)("Avg Response Time",-1)]))),_:1,__:[3]})])),_:1}),(0,l.Wm)((0,r.SU)(j),null,{default:(0,l.w5)((()=>[(0,l._)("div",_l,(0,n.zw)(S.value),1)])),_:1})])),_:1}),(0,l.Wm)((0,r.SU)(k),null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(D),{class:"pb-2"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(W),{class:"text-sm font-medium text-muted-foreground"},{default:(0,l.w5)((()=>t[4]||(t[4]=[(0,l.Uk)("Response Time Range",-1)]))),_:1,__:[4]})])),_:1}),(0,l.Wm)((0,r.SU)(j),null,{default:(0,l.w5)((()=>[(0,l._)("div",Sl,(0,n.zw)(U.value),1)])),_:1})])),_:1}),(0,l.Wm)((0,r.SU)(k),null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(D),{class:"pb-2"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(W),{class:"text-sm font-medium text-muted-foreground"},{default:(0,l.w5)((()=>t[5]||(t[5]=[(0,l.Uk)("Last Check",-1)]))),_:1,__:[5]})])),_:1}),(0,l.Wm)((0,r.SU)(j),null,{default:(0,l.w5)((()=>[(0,l._)("div",Dl,(0,n.zw)(C.value),1)])),_:1})])),_:1})]),(0,l.Wm)((0,r.SU)(k),null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(D),null,{default:(0,l.w5)((()=>[(0,l._)("div",Ul,[(0,l.Wm)((0,r.SU)(W),null,{default:(0,l.w5)((()=>t[6]||(t[6]=[(0,l.Uk)("Recent Checks",-1)]))),_:1,__:[6]}),(0,l._)("div",Cl,[(0,l.Wm)((0,r.SU)(x),{variant:"ghost",size:"icon",onClick:_,title:p.value?"Show min-max response time":"Show average response time"},{default:(0,l.w5)((()=>[p.value?((0,l.wg)(),(0,l.j4)((0,r.SU)(Ze.Z),{key:0,class:"h-5 w-5"})):((0,l.wg)(),(0,l.j4)((0,r.SU)(Me.Z),{key:1,class:"h-5 w-5"}))])),_:1},8,["title"]),(0,l.Wm)((0,r.SU)(x),{variant:"ghost",size:"icon",onClick:z,title:"Refresh data",disabled:w.value},{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(Oe.Z),{class:(0,n.C_)(["h-4 w-4",w.value&&"animate-spin"])},null,8,["class"])])),_:1},8,["disabled"])])])])),_:1}),(0,l.Wm)((0,r.SU)(j),null,{default:(0,l.w5)((()=>[(0,l._)("div",Wl,[d.value?((0,l.wg)(),(0,l.j4)(ht,{key:0,endpoint:d.value,maxResults:Il,showAverageResponseTime:p.value,onShowTooltip:T,class:"border-0 shadow-none bg-transparent p-0"},null,8,["endpoint","showAverageResponseTime"])):(0,l.kq)("",!0),d.value&&d.value.key?((0,l.wg)(),(0,l.iD)("div",zl,[(0,l.Wm)(tl,{onPage:E,numberOfResultsPerPage:Il,currentPageProp:m.value},null,8,["currentPageProp"])])):(0,l.kq)("",!0)])])),_:1})])),_:1}),v.value?((0,l.wg)(),(0,l.iD)("div",Hl,[(0,l.Wm)((0,r.SU)(k),null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(D),null,{default:(0,l.w5)((()=>[(0,l._)("div",jl,[(0,l.Wm)((0,r.SU)(W),null,{default:(0,l.w5)((()=>t[7]||(t[7]=[(0,l.Uk)("Response Time Trend",-1)]))),_:1,__:[7]}),(0,l.wy)((0,l._)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>f.value=e),class:"text-sm bg-background border rounded-md px-3 py-1 focus:outline-none focus:ring-2 focus:ring-ring"},t[8]||(t[8]=[(0,l._)("option",{value:"24h"},"24 hours",-1),(0,l._)("option",{value:"7d"},"7 days",-1),(0,l._)("option",{value:"30d"},"30 days",-1)]),512),[[s.bM,f.value]])])])),_:1}),(0,l.Wm)((0,r.SU)(j),null,{default:(0,l.w5)((()=>[d.value&&d.value.key?((0,l.wg)(),(0,l.j4)(dl,{key:0,endpointKey:d.value.key,duration:f.value,serverUrl:e.serverUrl,events:d.value.events||[]},null,8,["endpointKey","duration","serverUrl","events"])):(0,l.kq)("",!0)])),_:1})])),_:1}),(0,l._)("div",El,[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)(["30d","7d","24h","1h"],(e=>(0,l.Wm)((0,r.SU)(k),{key:e},{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(D),{class:"pb-2"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(W),{class:"text-sm font-medium text-muted-foreground text-center"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)("30d"===e?"Last 30 days":"7d"===e?"Last 7 days":"24h"===e?"Last 24 hours":"Last hour"),1)])),_:2},1024)])),_:2},1024),(0,l.Wm)((0,r.SU)(j),null,{default:(0,l.w5)((()=>[(0,l._)("img",{src:q(e),alt:`${e} response time`,class:"mx-auto mt-2"},null,8,Tl)])),_:2},1024)])),_:2},1024))),64))])])):(0,l.kq)("",!0),(0,l.Wm)((0,r.SU)(k),null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(D),null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(W),null,{default:(0,l.w5)((()=>t[9]||(t[9]=[(0,l.Uk)("Uptime Statistics",-1)]))),_:1,__:[9]})])),_:1}),(0,l.Wm)((0,r.SU)(j),null,{default:(0,l.w5)((()=>[(0,l._)("div",Fl,[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)(["30d","7d","24h","1h"],(e=>(0,l._)("div",{key:e,class:"text-center"},[(0,l._)("p",Rl,(0,n.zw)("30d"===e?"Last 30 days":"7d"===e?"Last 7 days":"24h"===e?"Last 24 hours":"Last hour"),1),(0,l._)("img",{src:A(e),alt:`${e} uptime`,class:"mx-auto"},null,8,Al)]))),64))])])),_:1})])),_:1}),(0,l.Wm)((0,r.SU)(k),null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(D),null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(W),null,{default:(0,l.w5)((()=>t[10]||(t[10]=[(0,l.Uk)("Current Health",-1)]))),_:1,__:[10]})])),_:1}),(0,l.Wm)((0,r.SU)(j),null,{default:(0,l.w5)((()=>[(0,l._)("div",ql,[(0,l._)("img",{src:R(),alt:"health badge",class:"mx-auto"},null,8,$l)])])),_:1})])),_:1}),g.value&&g.value.length>0?((0,l.wg)(),(0,l.j4)((0,r.SU)(k),{key:1},{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(D),null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(W),null,{default:(0,l.w5)((()=>t[11]||(t[11]=[(0,l.Uk)("Events",-1)]))),_:1,__:[11]})])),_:1}),(0,l.Wm)((0,r.SU)(j),null,{default:(0,l.w5)((()=>[(0,l._)("div",Ll,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(g.value,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e.timestamp,class:"flex items-start gap-4 pb-4 border-b last:border-0"},[(0,l._)("div",Nl,["HEALTHY"===e.type?((0,l.wg)(),(0,l.j4)((0,r.SU)(Ks.Z),{key:0,class:"h-5 w-5 text-green-500"})):"UNHEALTHY"===e.type?((0,l.wg)(),(0,l.j4)((0,r.SU)(Gs.Z),{key:1,class:"h-5 w-5 text-red-500"})):((0,l.wg)(),(0,l.j4)((0,r.SU)(Bs.Z),{key:2,class:"h-5 w-5 text-muted-foreground"}))]),(0,l._)("div",Zl,[(0,l._)("p",Ml,(0,n.zw)(e.fancyText),1),(0,l._)("p",Ol,(0,n.zw)(F(e.timestamp))+" • "+(0,n.zw)(e.fancyTimeAgo),1)])])))),128))])])),_:1})])),_:1})):(0,l.kq)("",!0)])):((0,l.wg)(),(0,l.iD)("div",Pl,[(0,l.Wm)(de,{size:"lg"})]))])]),(0,l.Wm)(ya,{onRefreshData:z})]))}};const Vl=Yl;var Kl=Vl,Gl=a(469),Bl=a(399),Jl=a(167);const Ql=e=>{if(!e&&0!==e)return"N/A";const t=e/1e6;return t<1e3?`${Math.trunc(t)}ms`:`${(t/1e3).toFixed(2)}s`},Xl={class:"relative flex-shrink-0"},en={class:"flex-1 min-w-0 pt-1"},tn={class:"flex items-center justify-between gap-2 mb-1"},an={class:"font-medium text-sm truncate"},sn={class:"text-xs text-muted-foreground whitespace-nowrap"},ln={class:"flex flex-wrap gap-1"},nn={key:0,class:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 rounded-md"},rn={key:1,class:"inline-flex items-center px-2 py-1 text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 rounded-md"};var on={__name:"FlowStep",props:{step:{type:Object,required:!0},index:{type:Number,required:!0},isLast:{type:Boolean,default:!1},previousStep:{type:Object,default:null}},emits:["step-click"],setup(e){const t=e,a=(0,l.Fl)((()=>{switch(t.step.status){case"success":return Ve.Z;case"failed":return ka.Z;case"skipped":return Gl.Z;case"not-started":return Jl.Z;default:return Jl.Z}})),s=(0,l.Fl)((()=>{const e="border-2";if(t.step.isAlwaysRun)switch(t.step.status){case"success":return`${e} bg-green-500 text-white border-green-600 ring-2 ring-blue-200 dark:ring-blue-800`;case"failed":return`${e} bg-red-500 text-white border-red-600 ring-2 ring-blue-200 dark:ring-blue-800`;default:return`${e} bg-blue-500 text-white border-blue-600 ring-2 ring-blue-200 dark:ring-blue-800`}switch(t.step.status){case"success":return`${e} bg-green-500 text-white border-green-600`;case"failed":return`${e} bg-red-500 text-white border-red-600`;case"skipped":return`${e} bg-gray-400 text-white border-gray-500`;case"not-started":return`${e} bg-gray-200 text-gray-500 border-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:border-gray-600`;default:return`${e} bg-gray-200 text-gray-500 border-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:border-gray-600`}})),o=(0,l.Fl)((()=>{if(!t.previousStep)return"bg-gray-300 dark:bg-gray-600";if("skipped"===t.step.status)return"border-l-2 border-dashed border-gray-400 bg-transparent";switch(t.previousStep.status){case"success":return"bg-green-500";case"failed":return"bg-red-500";default:return"bg-gray-300 dark:bg-gray-600"}})),i=(0,l.Fl)((()=>{const e=t.step.nextStepStatus;switch(t.step.status){case"success":return"skipped"===e?"bg-gray-300 dark:bg-gray-600":"bg-green-500";case"failed":return"skipped"===e?"border-l-2 border-dashed border-gray-400 bg-transparent":"bg-red-500";default:return"bg-gray-300 dark:bg-gray-600"}}));return(t,u)=>((0,l.wg)(),(0,l.iD)("div",{class:"flex items-start gap-4 relative group hover:bg-accent/30 rounded-lg p-2 -m-2 transition-colors cursor-pointer",onClick:u[0]||(u[0]=e=>t.$emit("step-click"))},[(0,l._)("div",Xl,[e.index>0?((0,l.wg)(),(0,l.iD)("div",{key:0,class:(0,n.C_)([o.value,"absolute left-1/2 bottom-8 w-0.5 h-4 -translate-x-px"])},null,2)):(0,l.kq)("",!0),(0,l._)("div",{class:(0,n.C_)([s.value,"w-8 h-8 rounded-full flex items-center justify-center"])},[((0,l.wg)(),(0,l.j4)((0,l.LL)(a.value),{class:"w-4 h-4"}))],2),e.isLast?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",{key:1,class:(0,n.C_)([i.value,"absolute left-1/2 top-8 w-0.5 h-4 -translate-x-px"])},null,2))]),(0,l._)("div",en,[(0,l._)("div",tn,[(0,l._)("h4",an,(0,n.zw)(e.step.name),1),(0,l._)("span",sn,(0,n.zw)((0,r.SU)(Ql)(e.step.duration)),1)]),(0,l._)("div",ln,[e.step.isAlwaysRun?((0,l.wg)(),(0,l.iD)("span",nn,[(0,l.Wm)((0,r.SU)(Bl.Z),{class:"w-3 h-3"}),u[1]||(u[1]=(0,l.Uk)(" Always Run ",-1))])):(0,l.kq)("",!0),e.step.errors?.length?((0,l.wg)(),(0,l.iD)("span",rn,(0,n.zw)(e.step.errors.length)+" error"+(0,n.zw)(1!==e.step.errors.length?"s":""),1)):(0,l.kq)("",!0)])])]))}};const un=on;var dn=un;const cn={class:"space-y-4"},gn={class:"flex items-center gap-4"},mn={class:"flex-1 h-1 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"},vn={class:"flex items-center justify-between text-xs text-muted-foreground"},pn={key:0},fn={class:"space-y-2"},wn={class:"mt-6 pt-4 border-t"},hn={class:"grid grid-cols-2 md:grid-cols-4 gap-3 text-xs"},xn={key:0,class:"flex items-center gap-2"},bn={class:"w-4 h-4 rounded-full bg-green-500 flex items-center justify-center"},yn={key:1,class:"flex items-center gap-2"},kn={class:"w-4 h-4 rounded-full bg-red-500 flex items-center justify-center"},_n={key:2,class:"flex items-center gap-2"},Sn={class:"w-4 h-4 rounded-full bg-gray-400 flex items-center justify-center"},Dn={key:3,class:"flex items-center gap-2"},Un={class:"w-4 h-4 rounded-full bg-blue-500 border-2 border-blue-200 dark:border-blue-800 flex items-center justify-center"};var Cn={__name:"SequentialFlowDiagram",props:{flowSteps:{type:Array,default:()=>[]},progressPercentage:{type:Number,default:0},completedSteps:{type:Number,default:0},totalSteps:{type:Number,default:0}},emits:["step-selected"],setup(e){const t=e,a=(0,l.Fl)((()=>t.completedSteps)),s=(0,l.Fl)((()=>t.totalSteps)),o=(0,l.Fl)((()=>t.flowSteps.reduce(((e,t)=>e+(t.duration||0)),0))),i=(0,l.Fl)((()=>t.flowSteps.some((e=>"success"===e.status)))),u=(0,l.Fl)((()=>t.flowSteps.some((e=>"failed"===e.status)))),d=(0,l.Fl)((()=>t.flowSteps.some((e=>"skipped"===e.status)))),c=(0,l.Fl)((()=>t.flowSteps.some((e=>!0===e.isAlwaysRun))));return(t,g)=>((0,l.wg)(),(0,l.iD)("div",cn,[(0,l._)("div",gn,[g[0]||(g[0]=(0,l._)("div",{class:"text-sm font-medium text-muted-foreground"},"Start",-1)),(0,l._)("div",mn,[(0,l._)("div",{class:"h-full bg-green-500 dark:bg-green-600 rounded-full transition-all duration-300 ease-out",style:(0,n.j5)({width:e.progressPercentage+"%"})},null,4)]),g[1]||(g[1]=(0,l._)("div",{class:"text-sm font-medium text-muted-foreground"},"End",-1))]),(0,l._)("div",vn,[(0,l._)("span",null,(0,n.zw)(a.value)+"/"+(0,n.zw)(s.value)+" steps successful",1),o.value>0?((0,l.wg)(),(0,l.iD)("span",pn,(0,n.zw)((0,r.SU)(Ql)(o.value))+" total",1)):(0,l.kq)("",!0)]),(0,l._)("div",fn,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.flowSteps,((a,s)=>((0,l.wg)(),(0,l.j4)(dn,{key:s,step:a,index:s,"is-last":s===e.flowSteps.length-1,"previous-step":s>0?e.flowSteps[s-1]:null,onStepClick:e=>t.$emit("step-selected",a,s)},null,8,["step","index","is-last","previous-step","onStepClick"])))),128))]),(0,l._)("div",wn,[g[6]||(g[6]=(0,l._)("div",{class:"text-sm font-medium text-muted-foreground mb-2"},"Status Legend",-1)),(0,l._)("div",hn,[i.value?((0,l.wg)(),(0,l.iD)("div",xn,[(0,l._)("div",bn,[(0,l.Wm)((0,r.SU)(Ve.Z),{class:"w-3 h-3 text-white"})]),g[2]||(g[2]=(0,l._)("span",{class:"text-muted-foreground"},"Success",-1))])):(0,l.kq)("",!0),u.value?((0,l.wg)(),(0,l.iD)("div",yn,[(0,l._)("div",kn,[(0,l.Wm)((0,r.SU)(ka.Z),{class:"w-3 h-3 text-white"})]),g[3]||(g[3]=(0,l._)("span",{class:"text-muted-foreground"},"Failed",-1))])):(0,l.kq)("",!0),d.value?((0,l.wg)(),(0,l.iD)("div",_n,[(0,l._)("div",Sn,[(0,l.Wm)((0,r.SU)(Gl.Z),{class:"w-3 h-3 text-white"})]),g[4]||(g[4]=(0,l._)("span",{class:"text-muted-foreground"},"Skipped",-1))])):(0,l.kq)("",!0),c.value?((0,l.wg)(),(0,l.iD)("div",Dn,[(0,l._)("div",Un,[(0,l.Wm)((0,r.SU)(Bl.Z),{class:"w-3 h-3 text-white"})]),g[5]||(g[5]=(0,l._)("span",{class:"text-muted-foreground"},"Always Run",-1))])):(0,l.kq)("",!0)])])]))}};const Wn=Cn;var zn=Wn,Hn=a(293),jn=a(322),En=a(740);const Tn={class:"flex items-center justify-between p-4 border-b"},Fn={class:"text-lg font-semibold flex items-center gap-2"},Rn={class:"text-sm text-muted-foreground mt-1"},An={class:"p-4 space-y-4 overflow-y-auto max-h-[60vh]"},qn={key:0,class:"flex flex-wrap gap-2"},$n={class:"flex items-center gap-2 px-3 py-2 bg-blue-50 dark:bg-blue-900/30 rounded-lg border border-blue-200 dark:border-blue-700"},Ln={key:1,class:"space-y-2"},Nn={class:"text-sm font-medium flex items-center gap-2 text-red-600 dark:text-red-400"},Zn={class:"space-y-2"},Mn={key:2,class:"space-y-2"},On={class:"text-sm font-medium flex items-center gap-2"},Pn={class:"text-xs font-mono text-muted-foreground"},In={key:3,class:"space-y-2"},Yn={class:"text-sm font-medium flex items-center gap-2"},Vn={class:"grid grid-cols-2 gap-4 text-xs"},Kn={class:"font-mono mt-1"},Gn={key:4,class:"space-y-2"},Bn={class:"text-sm font-medium flex items-center gap-2"},Jn={class:"space-y-2 max-h-48 overflow-y-auto"},Qn={class:"flex-shrink-0 mt-0.5"},Xn={class:"flex-1 min-w-0 flex items-center justify-between gap-3"},er={key:5,class:"space-y-2"},tr={class:"text-sm font-medium flex items-center gap-2"},ar={class:"space-y-3 text-xs"},sr={key:0},lr={class:"font-mono mt-1 break-all"},nr={key:1},rr={class:"mt-1 font-medium"},or={key:2},ir={class:"mt-1"},ur={key:3},dr={class:"mt-1"},cr={key:6,class:"space-y-2"},gr={class:"text-sm font-medium flex items-center gap-2 text-red-600 dark:text-red-400"},mr={class:"space-y-2 max-h-32 overflow-y-auto"};var vr={__name:"StepDetailsModal",props:{step:{type:Object,required:!0},index:{type:Number,required:!0}},emits:["close"],setup(e){const t=e,a=(0,l.Fl)((()=>{switch(t.step.status){case"success":return Ve.Z;case"failed":return ka.Z;case"skipped":return Gl.Z;case"not-started":return Jl.Z;default:return Jl.Z}})),o=(0,l.Fl)((()=>{switch(t.step.status){case"success":return"text-green-600 dark:text-green-400";case"failed":return"text-red-600 dark:text-red-400";case"skipped":return"text-gray-600 dark:text-gray-400";default:return"text-blue-600 dark:text-blue-400"}}));return(t,i)=>((0,l.wg)(),(0,l.iD)("div",{class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:i[2]||(i[2]=e=>t.$emit("close"))},[(0,l._)("div",{class:"bg-background border rounded-lg shadow-lg max-w-2xl w-full max-h-[80vh] overflow-hidden",onClick:i[1]||(i[1]=(0,s.iM)((()=>{}),["stop"]))},[(0,l._)("div",Tn,[(0,l._)("div",null,[(0,l._)("h2",Fn,[((0,l.wg)(),(0,l.j4)((0,l.LL)(a.value),{class:(0,n.C_)([o.value,"w-5 h-5"])},null,8,["class"])),(0,l.Uk)(" "+(0,n.zw)(e.step.name),1)]),(0,l._)("p",Rn," Step "+(0,n.zw)(e.index+1)+" • "+(0,n.zw)((0,r.SU)(Ql)(e.step.duration)),1)]),(0,l.Wm)((0,r.SU)(x),{variant:"ghost",size:"icon",onClick:i[0]||(i[0]=e=>t.$emit("close"))},{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(d.Z),{class:"w-4 h-4"})])),_:1})]),(0,l._)("div",An,[e.step.isAlwaysRun?((0,l.wg)(),(0,l.iD)("div",qn,[(0,l._)("div",$n,[(0,l.Wm)((0,r.SU)(Bl.Z),{class:"w-4 h-4 text-blue-600 dark:text-blue-400"}),i[3]||(i[3]=(0,l._)("div",null,[(0,l._)("p",{class:"text-sm font-medium text-blue-900 dark:text-blue-200"},"Always Run"),(0,l._)("p",{class:"text-xs text-blue-600 dark:text-blue-400"},"This endpoint is configured to execute even after failures")],-1))])])):(0,l.kq)("",!0),e.step.errors?.length?((0,l.wg)(),(0,l.iD)("div",Ln,[(0,l._)("h3",Nn,[(0,l.Wm)((0,r.SU)(Pe.Z),{class:"w-4 h-4"}),(0,l.Uk)(" Errors ("+(0,n.zw)(e.step.errors.length)+") ",1)]),(0,l._)("div",Zn,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.step.errors,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:"p-3 bg-red-50 dark:bg-red-900/50 border border-red-200 dark:border-red-700 rounded text-sm font-mono text-red-800 dark:text-red-300 break-all"},(0,n.zw)(e),1)))),128))])])):(0,l.kq)("",!0),e.step.result&&e.step.result.timestamp?((0,l.wg)(),(0,l.iD)("div",Mn,[(0,l._)("h3",On,[(0,l.Wm)((0,r.SU)(Hn.Z),{class:"w-4 h-4"}),i[4]||(i[4]=(0,l.Uk)(" Timestamp ",-1))]),(0,l._)("p",Pn,(0,n.zw)((0,r.SU)(N)(e.step.result.timestamp)),1)])):(0,l.kq)("",!0),e.step.result?((0,l.wg)(),(0,l.iD)("div",In,[(0,l._)("h3",Yn,[(0,l.Wm)((0,r.SU)(jn.Z),{class:"w-4 h-4"}),i[5]||(i[5]=(0,l.Uk)(" Response ",-1))]),(0,l._)("div",Vn,[(0,l._)("div",null,[i[6]||(i[6]=(0,l._)("span",{class:"text-muted-foreground"},"Duration:",-1)),(0,l._)("p",Kn,(0,n.zw)((0,r.SU)(Ql)(e.step.result.duration)),1)]),(0,l._)("div",null,[i[7]||(i[7]=(0,l._)("span",{class:"text-muted-foreground"},"Success:",-1)),(0,l._)("p",{class:(0,n.C_)(["mt-1",e.step.result.success?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},(0,n.zw)(e.step.result.success?"Yes":"No"),3)])])])):(0,l.kq)("",!0),e.step.result?.conditionResults?.length?((0,l.wg)(),(0,l.iD)("div",Gn,[(0,l._)("h3",Bn,[(0,l.Wm)((0,r.SU)(Ve.Z),{class:"w-4 h-4"}),(0,l.Uk)(" Condition Results ("+(0,n.zw)(e.step.result.conditionResults.length)+") ",1)]),(0,l._)("div",Jn,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.step.result.conditionResults,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:(0,n.C_)(["flex items-start gap-3 p-1 rounded-lg border",e.success?"bg-green-50 dark:bg-green-900/30 border-green-200 dark:border-green-700":"bg-red-50 dark:bg-red-900/30 border-red-200 dark:border-red-700"])},[(0,l._)("div",Qn,[e.success?((0,l.wg)(),(0,l.j4)((0,r.SU)(Ve.Z),{key:0,class:"w-4 h-4 text-green-600 dark:text-green-400"})):((0,l.wg)(),(0,l.j4)((0,r.SU)(ka.Z),{key:1,class:"w-4 h-4 text-red-600 dark:text-red-400"}))]),(0,l._)("div",Xn,[(0,l._)("p",{class:(0,n.C_)(["text-sm font-mono break-all",e.success?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"])},(0,n.zw)(e.condition),3),(0,l._)("span",{class:(0,n.C_)(["text-xs font-medium whitespace-nowrap",e.success?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},(0,n.zw)(e.success?"Passed":"Failed"),3)])],2)))),128))])])):(0,l.kq)("",!0),e.step.endpoint?((0,l.wg)(),(0,l.iD)("div",er,[(0,l._)("h3",tr,[(0,l.Wm)((0,r.SU)(En.Z),{class:"w-4 h-4"}),i[8]||(i[8]=(0,l.Uk)(" Endpoint Configuration ",-1))]),(0,l._)("div",ar,[e.step.endpoint.url?((0,l.wg)(),(0,l.iD)("div",sr,[i[9]||(i[9]=(0,l._)("span",{class:"text-muted-foreground"},"URL:",-1)),(0,l._)("p",lr,(0,n.zw)(e.step.endpoint.url),1)])):(0,l.kq)("",!0),e.step.endpoint.method?((0,l.wg)(),(0,l.iD)("div",nr,[i[10]||(i[10]=(0,l._)("span",{class:"text-muted-foreground"},"Method:",-1)),(0,l._)("p",rr,(0,n.zw)(e.step.endpoint.method),1)])):(0,l.kq)("",!0),e.step.endpoint.interval?((0,l.wg)(),(0,l.iD)("div",or,[i[11]||(i[11]=(0,l._)("span",{class:"text-muted-foreground"},"Interval:",-1)),(0,l._)("p",ir,(0,n.zw)(e.step.endpoint.interval),1)])):(0,l.kq)("",!0),e.step.endpoint.timeout?((0,l.wg)(),(0,l.iD)("div",ur,[i[12]||(i[12]=(0,l._)("span",{class:"text-muted-foreground"},"Timeout:",-1)),(0,l._)("p",dr,(0,n.zw)(e.step.endpoint.timeout),1)])):(0,l.kq)("",!0)])])):(0,l.kq)("",!0),e.step.result?.errors?.length?((0,l.wg)(),(0,l.iD)("div",cr,[(0,l._)("h3",gr,[(0,l.Wm)((0,r.SU)(Pe.Z),{class:"w-4 h-4"}),(0,l.Uk)(" Result Errors ("+(0,n.zw)(e.step.result.errors.length)+") ",1)]),(0,l._)("div",mr,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.step.result.errors,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:"p-3 bg-red-50 dark:bg-red-900/50 border border-red-200 dark:border-red-700 rounded text-sm font-mono text-red-800 dark:text-red-300 break-all"},(0,n.zw)(e),1)))),128))])])):(0,l.kq)("",!0)])])]))}};const pr=vr;var fr=pr;const wr={class:"suite-details-container bg-background min-h-screen"},hr={class:"container mx-auto px-4 py-8 max-w-7xl"},xr={class:"mb-6"},br={class:"flex items-start justify-between"},yr={class:"text-3xl font-bold tracking-tight"},kr={class:"text-muted-foreground mt-2"},_r={key:0},Sr={key:1},Dr={class:"flex items-center gap-2"},Ur={key:0,class:"flex items-center justify-center py-20"},Cr={key:1,class:"text-center py-20"},Wr={key:2,class:"space-y-6"},zr={class:"space-y-4"},Hr={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},jr={class:"text-lg font-medium"},Er={class:"text-lg font-medium"},Tr={class:"text-lg font-medium"},Fr={class:"text-lg font-medium"},Rr={class:"mt-6"},Ar={key:0,class:"mt-6"},qr={class:"space-y-2"},$r={key:0,class:"space-y-2"},Lr=["onClick"],Nr={class:"flex items-center gap-3"},Zr={class:"text-sm font-medium"},Mr={class:"text-xs text-muted-foreground"},Or={key:1,class:"text-center py-8 text-muted-foreground"};var Pr={__name:"SuiteDetails",setup(e){const t=(0,i.tv)(),a=(0,i.yj)(),s=(0,r.iH)(!1),o=(0,r.iH)(null),u=(0,r.iH)(null),d=(0,r.iH)(null),c=(0,r.iH)(0),g=(0,l.Fl)((()=>o.value&&o.value.results&&0!==o.value.results.length?[...o.value.results].sort(((e,t)=>new Date(t.timestamp)-new Date(e.timestamp))):[])),m=(0,l.Fl)((()=>o.value&&o.value.results&&0!==o.value.results.length?u.value||g.value[0]:null)),v=async()=>{const e=!o.value;e&&(s.value=!0);try{const t=await fetch(`/api/v1/suites/${a.params.key}/statuses`,{credentials:"include"});if(200===t.status){const e=await t.json(),a=o.value;if(o.value=e,e.results&&e.results.length>0){const t=[...e.results].sort(((e,t)=>new Date(t.timestamp)-new Date(e.timestamp))),s=!u.value||a?.results&&u.value.timestamp===[...a.results].sort(((e,t)=>new Date(t.timestamp)-new Date(e.timestamp)))[0]?.timestamp;s&&(u.value=t[0])}}else 404===t.status?o.value=null:console.error("[SuiteDetails][fetchData] Error:",await t.text())}catch(t){console.error("[SuiteDetails][fetchData] Error:",t)}finally{e&&(s.value=!1)}},p=()=>{v()},f=()=>{t.push("/")},w=e=>$(e),h=e=>{const t=new Date(e);return t.toLocaleString()},b=e=>{if(!e||!e.endpointResults||0===e.endpointResults.length)return 0;const t=e.endpointResults.filter((e=>e.success)).length;return Math.round(t/e.endpointResults.length*100)},y=(0,l.Fl)((()=>{if(!m.value||!m.value.endpointResults)return[];const e=m.value.endpointResults;return e.map(((t,a)=>{const s=o.value?.endpoints?.[a],l=e[a+1];let n=!1;for(let r=0;r<a;r++)if(!e[r].success){n=!0;break}return{name:s?.name||t.name||`Step ${a+1}`,endpoint:s,result:t,status:U(t,s),duration:t.duration||0,isAlwaysRun:n,errors:t.errors||[],nextStepStatus:l?U(l,o.value?.endpoints?.[a+1]):null}}))})),_=(0,l.Fl)((()=>y.value.filter((e=>"success"===e.status)).length)),S=(0,l.Fl)((()=>y.value.length?Math.round(_.value/y.value.length*100):0)),U=e=>e?e.conditionResults&&e.conditionResults.some((e=>e.condition.includes("SKIP")))?"skipped":e.success?"success":"failed":"not-started",C=(e,t)=>{d.value=e,c.value=t};return(0,l.bv)((()=>{v()})),(e,t)=>((0,l.wg)(),(0,l.iD)("div",wr,[(0,l._)("div",hr,[(0,l._)("div",xr,[(0,l.Wm)((0,r.SU)(x),{variant:"ghost",size:"sm",onClick:f,class:"mb-4"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(Vs.Z),{class:"h-4 w-4 mr-2"}),t[1]||(t[1]=(0,l.Uk)(" Back to Dashboard ",-1))])),_:1,__:[1]}),(0,l._)("div",br,[(0,l._)("div",null,[(0,l._)("h1",yr,(0,n.zw)(o.value?.name||"Loading..."),1),(0,l._)("p",kr,[o.value?.group?((0,l.wg)(),(0,l.iD)("span",_r,(0,n.zw)(o.value.group)+" • ",1)):(0,l.kq)("",!0),m.value?((0,l.wg)(),(0,l.iD)("span",Sr,(0,n.zw)(u.value&&u.value.timestamp!==g.value[0]?.timestamp?"Ran":"Last run")+" "+(0,n.zw)(w(m.value.timestamp)),1)):(0,l.kq)("",!0)])]),(0,l._)("div",Dr,[m.value?((0,l.wg)(),(0,l.j4)(tt,{key:0,status:m.value.success?"healthy":"unhealthy"},null,8,["status"])):(0,l.kq)("",!0),(0,l.Wm)((0,r.SU)(x),{variant:"ghost",size:"icon",onClick:p,title:"Refresh"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(Oe.Z),{class:"h-5 w-5"})])),_:1})])])]),s.value?((0,l.wg)(),(0,l.iD)("div",Ur,[(0,l.Wm)(de,{size:"lg"})])):o.value?((0,l.wg)(),(0,l.iD)("div",Wr,[m.value?((0,l.wg)(),(0,l.j4)((0,r.SU)(k),{key:0},{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(D),null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(W),null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(u.value?.timestamp===g.value[0]?.timestamp?"Latest Execution":`Execution at ${h(u.value.timestamp)}`),1)])),_:1})])),_:1}),(0,l.Wm)((0,r.SU)(j),null,{default:(0,l.w5)((()=>[(0,l._)("div",zr,[(0,l._)("div",Hr,[(0,l._)("div",null,[t[4]||(t[4]=(0,l._)("p",{class:"text-sm text-muted-foreground"},"Status",-1)),(0,l._)("p",jr,(0,n.zw)(m.value.success?"Success":"Failed"),1)]),(0,l._)("div",null,[t[5]||(t[5]=(0,l._)("p",{class:"text-sm text-muted-foreground"},"Duration",-1)),(0,l._)("p",Er,(0,n.zw)((0,r.SU)(Ql)(m.value.duration)),1)]),(0,l._)("div",null,[t[6]||(t[6]=(0,l._)("p",{class:"text-sm text-muted-foreground"},"Endpoints",-1)),(0,l._)("p",Tr,(0,n.zw)(m.value.endpointResults?.length||0),1)]),(0,l._)("div",null,[t[7]||(t[7]=(0,l._)("p",{class:"text-sm text-muted-foreground"},"Success Rate",-1)),(0,l._)("p",Fr,(0,n.zw)(b(m.value))+"%",1)])]),(0,l._)("div",Rr,[t[8]||(t[8]=(0,l._)("h3",{class:"text-lg font-semibold mb-4"},"Execution Flow",-1)),(0,l.Wm)(zn,{"flow-steps":y.value,"progress-percentage":S.value,"completed-steps":_.value,"total-steps":y.value.length,onStepSelected:C},null,8,["flow-steps","progress-percentage","completed-steps","total-steps"])]),m.value.errors&&m.value.errors.length>0?((0,l.wg)(),(0,l.iD)("div",Ar,[t[9]||(t[9]=(0,l._)("h3",{class:"text-lg font-semibold mb-3 text-red-500"},"Suite Errors",-1)),(0,l._)("div",qr,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(m.value.errors,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:"bg-red-50 dark:bg-red-950 text-red-700 dark:text-red-300 p-3 rounded-md text-sm"},(0,n.zw)(e),1)))),128))])])):(0,l.kq)("",!0)])])),_:1})])),_:1})):(0,l.kq)("",!0),(0,l.Wm)((0,r.SU)(k),null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(D),null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(W),null,{default:(0,l.w5)((()=>t[10]||(t[10]=[(0,l.Uk)("Execution History",-1)]))),_:1,__:[10]})])),_:1}),(0,l.Wm)((0,r.SU)(j),null,{default:(0,l.w5)((()=>[g.value.length>0?((0,l.wg)(),(0,l.iD)("div",$r,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(g.value,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:(0,n.C_)(["flex items-center justify-between p-3 border rounded-lg hover:bg-accent/50 transition-colors cursor-pointer",{"bg-accent":u.value&&u.value.timestamp===e.timestamp}]),onClick:t=>u.value=e},[(0,l._)("div",Nr,[(0,l.Wm)(tt,{status:e.success?"healthy":"unhealthy",size:"sm"},null,8,["status"]),(0,l._)("div",null,[(0,l._)("p",Zr,(0,n.zw)(h(e.timestamp)),1),(0,l._)("p",Mr,(0,n.zw)(e.endpointResults?.length||0)+" endpoints • "+(0,n.zw)((0,r.SU)(Ql)(e.duration)),1)])]),(0,l.Wm)((0,r.SU)(Ge.Z),{class:"h-4 w-4 text-muted-foreground"})],10,Lr)))),128))])):((0,l.wg)(),(0,l.iD)("div",Or," No execution history available "))])),_:1})])),_:1})])):((0,l.wg)(),(0,l.iD)("div",Cr,[(0,l.Wm)((0,r.SU)(Pe.Z),{class:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),t[2]||(t[2]=(0,l._)("h3",{class:"text-lg font-semibold mb-2"},"Suite not found",-1)),t[3]||(t[3]=(0,l._)("p",{class:"text-muted-foreground"},"The requested suite could not be found.",-1))]))]),(0,l.Wm)(ya,{onRefreshData:v}),d.value?((0,l.wg)(),(0,l.j4)(fr,{key:0,step:d.value,index:c.value,onClose:t[0]||(t[0]=e=>d.value=null)},null,8,["step","index"])):(0,l.kq)("",!0)]))}};const Ir=(0,F.Z)(Pr,[["__scopeId","data-v-e2a91c9e"]]);var Yr=Ir;const Vr={class:"container mx-auto px-4 py-8 max-w-7xl"},Kr={class:"p-4 rounded-lg border bg-card mb-6"},Gr={class:"text-sm"},Br={class:"grid gap-6 lg:grid-cols-[22rem,1fr]"},Jr={class:"flex items-center justify-between gap-2"},Qr={class:"flex items-center gap-2"},Xr={key:0,class:"text-sm text-muted-foreground"},eo={key:1,class:"text-sm text-muted-foreground"},to={key:2,class:"space-y-2"},ao=["onClick"],so={class:"flex items-center justify-between gap-2"},lo={class:"font-medium truncate"},no={class:"text-xs text-muted-foreground uppercase"},ro={class:"text-xs text-muted-foreground truncate mt-1"},oo={class:"text-xs text-muted-foreground mt-1"},io={class:"grid gap-4 md:grid-cols-2"},uo={class:"space-y-1"},co={class:"space-y-1"},go={class:"space-y-1 md:col-span-2"},mo={class:"space-y-1"},vo={class:"space-y-1"},po={class:"grid gap-4 md:grid-cols-2"},fo={class:"space-y-1"},wo={class:"space-y-1"},ho={class:"space-y-1"},xo={class:"flex flex-wrap items-center gap-4"},bo={class:"inline-flex items-center gap-2 text-sm"},yo={class:"inline-flex items-center gap-2 text-sm"},ko={class:"flex flex-wrap items-center gap-2"},_o={key:1,class:"text-sm text-muted-foreground"},So={class:"flex items-center justify-between gap-2"},Do={class:"grid gap-6 lg:grid-cols-[22rem,1fr]"},Uo={class:"space-y-2"},Co={key:0,class:"text-sm text-muted-foreground"},Wo={key:1,class:"text-sm text-muted-foreground"},zo=["onClick"],Ho={class:"flex items-center justify-between gap-2"},jo={class:"font-medium truncate"},Eo={class:"text-xs text-muted-foreground mt-1"},To={class:"space-y-3"},Fo={key:0,class:"text-sm text-muted-foreground"},Ro={class:"space-y-1"},Ao={class:"space-y-1"},qo={class:"flex flex-wrap items-center gap-2"},$o={key:0,class:"text-sm text-muted-foreground"},Lo={class:"flex items-center justify-between gap-2"},No={class:"flex items-center gap-2"},Zo={key:0,class:"text-sm text-muted-foreground"};var Mo={__name:"AdminPanel",setup(e){const t=(0,r.iH)([]),a=(0,r.iH)(""),o=(0,r.iH)(""),i=(0,r.iH)(!1),u=(0,r.iH)(!1),d=(0,r.iH)(""),c=(0,r.iH)([]),g=(0,r.iH)(""),m=(0,r.iH)("{}"),v=(0,r.iH)(!1),p=(0,r.iH)(!1),f=(0,r.iH)(""),w=(0,r.iH)(!1),h=(0,r.iH)(!1),b=(0,r.iH)(""),y=(0,r.iH)(""),_=[{label:"GET",value:"GET"},{label:"POST",value:"POST"},{label:"PUT",value:"PUT"},{label:"PATCH",value:"PATCH"},{label:"DELETE",value:"DELETE"},{label:"HEAD",value:"HEAD"},{label:"OPTIONS",value:"OPTIONS"}],S=()=>({enabled:!0,name:"",group:"",url:"",method:"GET",interval:"1m",conditionsText:"[STATUS] == 200",headersText:"",body:"",graphql:!1}),U=(0,r.iH)(S()),C=(0,l.Fl)((()=>a.value.length>0)),z=(0,l.Fl)((()=>c.value.find((e=>e.type===g.value))||null)),H=e=>{const t=e&&"object"===typeof e?e:{},a=t.alerting&&"object"===typeof t.alerting&&!Array.isArray(t.alerting)?t.alerting:null;return{alerting:a,endpoints:Array.isArray(t.endpoints)?t.endpoints:[],externalEndpoints:Array.isArray(t.externalEndpoints)?t.externalEndpoints:[],suites:Array.isArray(t.suites)?t.suites:[]}},E=e=>{const t=e&&e.headers&&"object"===typeof e.headers?e.headers:{},a=Object.entries(t).map((([e,t])=>`${e}: ${t}`)),s=Array.isArray(e.conditions)?e.conditions:[];return{enabled:!1!==e.enabled,name:e.name||"",group:e.group||"",url:e.url||"",method:e.method||"GET",interval:e.interval||"1m",conditionsText:s.join("\n"),headersText:a.join("\n"),body:e.body||"",graphql:!0===e.graphql}},T=e=>{const t={};for(const a of e.split("\n")){const e=a.trim();if(!e)continue;const s=e.indexOf(":");if(s<1)throw new Error(`Invalid header format: ${e}`);const l=e.slice(0,s).trim(),n=e.slice(s+1).trim();if(!l)throw new Error(`Invalid header name in line: ${e}`);t[l]=n}return t},F=()=>{const e=U.value.name.trim(),t=U.value.url.trim(),a=U.value.conditionsText.split("\n").map((e=>e.trim())).filter((e=>e.length>0));if(!e||!t)throw new Error("Name and URL are required.");if(0===a.length)throw new Error("At least one condition is required.");return{enabled:U.value.enabled,name:e,group:U.value.group.trim(),url:t,method:U.value.method,interval:U.value.interval.trim(),conditions:a,headers:T(U.value.headersText),body:U.value.body,graphql:U.value.graphql}},R=()=>{a.value="",U.value=S(),d.value=""},A=e=>{a.value=e.key,U.value=E(e),d.value=""},q=e=>{g.value=e.type;const t=e.config&&"object"===typeof e.config?e.config:{};m.value=JSON.stringify(t,null,2),f.value=""},$=async()=>{i.value=!0,d.value="";try{const e=await fetch("/api/v1/admin/endpoints",{credentials:"include"}),s=await e.json();if(!e.ok)throw new Error(s.error||"Failed to load endpoints");if(t.value=Array.isArray(s.endpoints)?s.endpoints:[],o.value=s.overlayPath||o.value,a.value){const e=t.value.find((e=>e.key===a.value));e?U.value=E(e):R()}}catch(e){d.value=e.message}finally{i.value=!1}},L=async()=>{u.value=!0,d.value="";try{const e=F(),t=C.value?`/api/v1/admin/endpoints/${a.value}`:"/api/v1/admin/endpoints",s=C.value?"PUT":"POST",l=await fetch(t,{method:s,credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await l.json();if(!l.ok)throw new Error(n.error||"Failed to save endpoint");a.value=n.key||a.value,await $(),d.value=C.value?"Endpoint saved.":"Endpoint created."}catch(e){d.value=e.message}finally{u.value=!1}},N=async()=>{if(!C.value)return;const e=window.confirm(`Delete endpoint ${a.value}?`);if(e){u.value=!0,d.value="";try{const e=await fetch(`/api/v1/admin/endpoints/${a.value}`,{method:"DELETE",credentials:"include"});if(!e.ok&&204!==e.status){let t="Failed to delete endpoint";try{const a=await e.json();t=a.error||t}catch{}throw new Error(t)}R(),await $(),d.value="Endpoint deleted."}catch(t){d.value=t.message}finally{u.value=!1}}},Z=async()=>{v.value=!0,f.value="";try{const e=await fetch("/api/v1/admin/notifications",{credentials:"include"}),t=await e.json();if(!e.ok)throw new Error(t.error||"Failed to load notifications");if(c.value=Array.isArray(t.notifications)?t.notifications:[],o.value=t.overlayPath||o.value,g.value){const e=c.value.find((e=>e.type===g.value));e?q(e):c.value.length>0?q(c.value[0]):(g.value="",m.value="{}")}else c.value.length>0&&q(c.value[0])}catch(e){f.value=e.message}finally{v.value=!1}},M=async()=>{if(z.value){p.value=!0,f.value="";try{const e=JSON.parse(m.value||"{}");if(!e||"object"!==typeof e||Array.isArray(e))throw new Error("Notification config must be a JSON object.");const t=await fetch(`/api/v1/admin/notifications/${z.value.type}`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await t.json();if(!t.ok)throw new Error(a.error||"Failed to save notification");const s=z.value.type;await Z();const l=c.value.find((e=>e.type===s));l&&q(l),f.value="Notification saved."}catch(e){f.value=e.message}finally{p.value=!1}}else f.value="Please select a notification type first."},O=async()=>{if(!z.value||!z.value.configured)return;const e=window.confirm(`Delete notification type ${z.value.type}?`);if(e){p.value=!0,f.value="";try{const e=await fetch(`/api/v1/admin/notifications/${z.value.type}`,{method:"DELETE",credentials:"include"});if(!e.ok&&204!==e.status){let t="Failed to delete notification";try{const a=await e.json();t=a.error||t}catch{}throw new Error(t)}await Z(),f.value="Notification deleted."}catch(t){f.value=t.message}finally{p.value=!1}}},P=async()=>{w.value=!0,b.value="";try{const e=await fetch("/api/v1/admin/managed-config",{credentials:"include"}),t=await e.json();if(!e.ok)throw new Error(t.error||"Failed to load managed configuration");o.value=t.overlayPath||o.value,y.value=JSON.stringify(H(t),null,2)}catch(e){b.value=e.message}finally{w.value=!1}},I=async()=>{h.value=!0,b.value="";try{const e=JSON.parse(y.value||"{}"),t=H(e),a=await fetch("/api/v1/admin/managed-config",{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await a.json();if(!a.ok)throw new Error(s.error||"Failed to save managed configuration");o.value=s.overlayPath||o.value,b.value=s.message||"Overlay saved.",await Promise.all([$(),Z()])}catch(e){b.value=e.message}finally{h.value=!1}},Y=async()=>{const e=window.confirm("Delete managed overlay and revert to base YAML configuration?");if(e){h.value=!0,b.value="";try{const e=await fetch("/api/v1/admin/managed-config",{method:"DELETE",credentials:"include"});if(!e.ok&&204!==e.status){let t="Failed to reset overlay";try{const a=await e.json();t=a.error||t}catch{}throw new Error(t)}b.value="Overlay deleted. Base YAML configuration will be active after reload.",R(),await Promise.all([$(),Z(),P()])}catch(t){b.value=t.message}finally{h.value=!1}}};return(0,l.bv)((async()=>{await Promise.all([$(),Z(),P()])})),(e,S)=>((0,l.wg)(),(0,l.iD)("div",Vr,[S[39]||(S[39]=(0,l._)("div",{class:"mb-6"},[(0,l._)("h1",{class:"text-3xl font-bold tracking-tight"},"Monitor Management"),(0,l._)("p",{class:"text-muted-foreground mt-2"}," Endpoints and notification channels are now UI-driven. Suites and external endpoints can still be managed via the JSON overlay editor below. ")],-1)),(0,l._)("div",Kr,[(0,l._)("p",Gr,[S[12]||(S[12]=(0,l._)("span",{class:"font-semibold"},"Overlay Path:",-1)),(0,l.Uk)(" "+(0,n.zw)(o.value||"N/A"),1)]),S[13]||(S[13]=(0,l._)("p",{class:"text-muted-foreground text-sm mt-1"}," Saved changes are auto-applied by Gatus within a few seconds. ",-1))]),(0,l._)("div",Br,[(0,l.Wm)((0,r.SU)(k),null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(D),null,{default:(0,l.w5)((()=>[(0,l._)("div",Jr,[(0,l.Wm)((0,r.SU)(W),null,{default:(0,l.w5)((()=>S[14]||(S[14]=[(0,l.Uk)("Endpoints",-1)]))),_:1,__:[14]}),(0,l._)("div",Qr,[(0,l.Wm)((0,r.SU)(x),{variant:"outline",size:"sm",onClick:R,disabled:u.value},{default:(0,l.w5)((()=>S[15]||(S[15]=[(0,l.Uk)("New",-1)]))),_:1,__:[15]},8,["disabled"]),(0,l.Wm)((0,r.SU)(x),{variant:"outline",size:"sm",onClick:$,disabled:i.value||u.value},{default:(0,l.w5)((()=>S[16]||(S[16]=[(0,l.Uk)("Refresh",-1)]))),_:1,__:[16]},8,["disabled"])])])])),_:1}),(0,l.Wm)((0,r.SU)(j),null,{default:(0,l.w5)((()=>[i.value?((0,l.wg)(),(0,l.iD)("p",Xr,"Loading endpoints...")):0===t.value.length?((0,l.wg)(),(0,l.iD)("p",eo,"No endpoint found in the managed configuration.")):((0,l.wg)(),(0,l.iD)("div",to,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.value,(e=>((0,l.wg)(),(0,l.iD)("button",{key:e.key,class:(0,n.C_)(["w-full text-left rounded-md border p-3 transition-colors hover:bg-accent",a.value===e.key?"bg-accent border-primary":""]),onClick:t=>A(e)},[(0,l._)("div",so,[(0,l._)("p",lo,(0,n.zw)(e.group?`${e.group} / ${e.name}`:e.name),1),(0,l._)("span",no,(0,n.zw)(e.type),1)]),(0,l._)("p",ro,(0,n.zw)(e.url),1),(0,l._)("p",oo,"Key: "+(0,n.zw)(e.key),1)],10,ao)))),128))]))])),_:1})])),_:1}),(0,l.Wm)((0,r.SU)(k),null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(D),null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(W),null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(C.value?`Edit Endpoint: ${a.value}`:"Create Endpoint"),1)])),_:1})])),_:1}),(0,l.Wm)((0,r.SU)(j),{class:"space-y-4"},{default:(0,l.w5)((()=>[(0,l._)("div",io,[(0,l._)("div",uo,[S[17]||(S[17]=(0,l._)("label",{class:"text-sm font-medium"},"Name",-1)),(0,l.Wm)((0,r.SU)(Zt),{modelValue:U.value.name,"onUpdate:modelValue":S[0]||(S[0]=e=>U.value.name=e),placeholder:"frontend"},null,8,["modelValue"])]),(0,l._)("div",co,[S[18]||(S[18]=(0,l._)("label",{class:"text-sm font-medium"},"Group",-1)),(0,l.Wm)((0,r.SU)(Zt),{modelValue:U.value.group,"onUpdate:modelValue":S[1]||(S[1]=e=>U.value.group=e),placeholder:"core"},null,8,["modelValue"])]),(0,l._)("div",go,[S[19]||(S[19]=(0,l._)("label",{class:"text-sm font-medium"},"URL",-1)),(0,l.Wm)((0,r.SU)(Zt),{modelValue:U.value.url,"onUpdate:modelValue":S[2]||(S[2]=e=>U.value.url=e),placeholder:"https://example.org/health"},null,8,["modelValue"])]),(0,l._)("div",mo,[S[20]||(S[20]=(0,l._)("label",{class:"text-sm font-medium"},"Method",-1)),(0,l.Wm)((0,r.SU)(Jt),{modelValue:U.value.method,"onUpdate:modelValue":S[3]||(S[3]=e=>U.value.method=e),options:_},null,8,["modelValue"])]),(0,l._)("div",vo,[S[21]||(S[21]=(0,l._)("label",{class:"text-sm font-medium"},"Interval",-1)),(0,l.Wm)((0,r.SU)(Zt),{modelValue:U.value.interval,"onUpdate:modelValue":S[4]||(S[4]=e=>U.value.interval=e),placeholder:"30s / 1m / 5m"},null,8,["modelValue"])])]),(0,l._)("div",po,[(0,l._)("div",fo,[S[22]||(S[22]=(0,l._)("label",{class:"text-sm font-medium"},"Conditions (one per line)",-1)),(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":S[5]||(S[5]=e=>U.value.conditionsText=e),class:"w-full min-h-[180px] rounded-md border bg-background p-3 text-sm font-mono",spellcheck:"false"},null,512),[[s.nr,U.value.conditionsText]])]),(0,l._)("div",wo,[S[23]||(S[23]=(0,l._)("label",{class:"text-sm font-medium"},"Headers (Key: Value)",-1)),(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":S[6]||(S[6]=e=>U.value.headersText=e),class:"w-full min-h-[180px] rounded-md border bg-background p-3 text-sm font-mono",spellcheck:"false",placeholder:"Authorization: Bearer token"},null,512),[[s.nr,U.value.headersText]])])]),(0,l._)("div",ho,[S[24]||(S[24]=(0,l._)("label",{class:"text-sm font-medium"},"Body",-1)),(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":S[7]||(S[7]=e=>U.value.body=e),class:"w-full min-h-[120px] rounded-md border bg-background p-3 text-sm font-mono",spellcheck:"false"},null,512),[[s.nr,U.value.body]])]),(0,l._)("div",xo,[(0,l._)("label",bo,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":S[8]||(S[8]=e=>U.value.enabled=e),type:"checkbox",class:"h-4 w-4 rounded border-input"},null,512),[[s.e8,U.value.enabled]]),S[25]||(S[25]=(0,l.Uk)(" Enabled ",-1))]),(0,l._)("label",yo,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":S[9]||(S[9]=e=>U.value.graphql=e),type:"checkbox",class:"h-4 w-4 rounded border-input"},null,512),[[s.e8,U.value.graphql]]),S[26]||(S[26]=(0,l.Uk)(" GraphQL Body ",-1))])]),(0,l._)("div",ko,[(0,l.Wm)((0,r.SU)(x),{onClick:L,disabled:u.value||i.value},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(C.value?"Save Endpoint":"Create Endpoint"),1)])),_:1},8,["disabled"]),(0,l.Wm)((0,r.SU)(x),{variant:"outline",onClick:R,disabled:u.value},{default:(0,l.w5)((()=>S[27]||(S[27]=[(0,l.Uk)("Clear",-1)]))),_:1,__:[27]},8,["disabled"]),C.value?((0,l.wg)(),(0,l.j4)((0,r.SU)(x),{key:0,variant:"destructive",onClick:N,disabled:u.value},{default:(0,l.w5)((()=>S[28]||(S[28]=[(0,l.Uk)(" Delete Endpoint ",-1)]))),_:1,__:[28]},8,["disabled"])):(0,l.kq)("",!0),d.value?((0,l.wg)(),(0,l.iD)("span",_o,(0,n.zw)(d.value),1)):(0,l.kq)("",!0)])])),_:1})])),_:1})]),(0,l.Wm)((0,r.SU)(k),{class:"mt-6"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(D),null,{default:(0,l.w5)((()=>[(0,l._)("div",So,[(0,l.Wm)((0,r.SU)(W),null,{default:(0,l.w5)((()=>S[29]||(S[29]=[(0,l.Uk)("Notification Channels",-1)]))),_:1,__:[29]}),(0,l.Wm)((0,r.SU)(x),{variant:"outline",size:"sm",onClick:Z,disabled:v.value||p.value},{default:(0,l.w5)((()=>S[30]||(S[30]=[(0,l.Uk)("Refresh",-1)]))),_:1,__:[30]},8,["disabled"])])])),_:1}),(0,l.Wm)((0,r.SU)(j),null,{default:(0,l.w5)((()=>[(0,l._)("div",Do,[(0,l._)("div",Uo,[v.value?((0,l.wg)(),(0,l.iD)("p",Co,"Loading notifications...")):0===c.value.length?((0,l.wg)(),(0,l.iD)("p",Wo,"No notification provider type available.")):(0,l.kq)("",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(c.value,(e=>((0,l.wg)(),(0,l.iD)("button",{key:e.type,class:(0,n.C_)(["w-full text-left rounded-md border p-3 transition-colors hover:bg-accent",g.value===e.type?"bg-accent border-primary":""]),onClick:t=>q(e)},[(0,l._)("div",Ho,[(0,l._)("p",jo,(0,n.zw)(e.type),1),(0,l._)("span",{class:(0,n.C_)(["text-xs",e.configured?"text-green-600":"text-muted-foreground"])},(0,n.zw)(e.configured?"Configured":"Not Configured"),3)]),(0,l._)("p",Eo," Used by "+(0,n.zw)(e.usedByEndpoints)+" endpoint(s), "+(0,n.zw)(e.usedByExternalEndpoints)+" external endpoint(s) ",1)],10,zo)))),128))]),(0,l._)("div",To,[z.value?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l._)("div",Ro,[S[31]||(S[31]=(0,l._)("label",{class:"text-sm font-medium"},"Type",-1)),(0,l.Wm)((0,r.SU)(Zt),{"model-value":z.value.type,disabled:""},null,8,["model-value"])]),(0,l._)("div",Ao,[S[32]||(S[32]=(0,l._)("label",{class:"text-sm font-medium"},"Provider Config (JSON)",-1)),(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":S[10]||(S[10]=e=>m.value=e),class:"w-full min-h-[240px] rounded-md border bg-background p-3 text-sm font-mono",spellcheck:"false"},null,512),[[s.nr,m.value]])]),(0,l._)("div",qo,[(0,l.Wm)((0,r.SU)(x),{onClick:M,disabled:p.value||v.value},{default:(0,l.w5)((()=>S[33]||(S[33]=[(0,l.Uk)("Save Notification",-1)]))),_:1,__:[33]},8,["disabled"]),(0,l.Wm)((0,r.SU)(x),{variant:"destructive",onClick:O,disabled:p.value||!z.value.configured},{default:(0,l.w5)((()=>S[34]||(S[34]=[(0,l.Uk)(" Delete Notification ",-1)]))),_:1,__:[34]},8,["disabled"]),f.value?((0,l.wg)(),(0,l.iD)("span",$o,(0,n.zw)(f.value),1)):(0,l.kq)("",!0)])],64)):((0,l.wg)(),(0,l.iD)("p",Fo,"Select a notification type from the left panel."))])])])),_:1})])),_:1}),(0,l.Wm)((0,r.SU)(k),{class:"mt-6"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(D),null,{default:(0,l.w5)((()=>[(0,l._)("div",Lo,[(0,l.Wm)((0,r.SU)(W),null,{default:(0,l.w5)((()=>S[35]||(S[35]=[(0,l.Uk)("Advanced JSON Overlay",-1)]))),_:1,__:[35]}),(0,l._)("div",No,[(0,l.Wm)((0,r.SU)(x),{variant:"outline",size:"sm",onClick:P,disabled:w.value||h.value},{default:(0,l.w5)((()=>S[36]||(S[36]=[(0,l.Uk)("Reload",-1)]))),_:1,__:[36]},8,["disabled"]),(0,l.Wm)((0,r.SU)(x),{size:"sm",onClick:I,disabled:w.value||h.value},{default:(0,l.w5)((()=>S[37]||(S[37]=[(0,l.Uk)("Save Overlay",-1)]))),_:1,__:[37]},8,["disabled"]),(0,l.Wm)((0,r.SU)(x),{variant:"destructive",size:"sm",onClick:Y,disabled:w.value||h.value},{default:(0,l.w5)((()=>S[38]||(S[38]=[(0,l.Uk)("Reset Overlay",-1)]))),_:1,__:[38]},8,["disabled"])])])])),_:1}),(0,l.Wm)((0,r.SU)(j),{class:"space-y-3"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":S[11]||(S[11]=e=>y.value=e),class:"w-full min-h-[420px] rounded-md border bg-background p-3 font-mono text-xs",spellcheck:"false"},null,512),[[s.nr,y.value]]),b.value?((0,l.wg)(),(0,l.iD)("span",Zo,(0,n.zw)(b.value),1)):(0,l.kq)("",!0)])),_:1})])),_:1})]))}};const Oo=Mo;var Po=Oo;const Io=[{path:"/",name:"Home",component:Ys},{path:"/endpoints/:key",name:"EndpointDetails",component:Kl},{path:"/suites/:key",name:"SuiteDetails",component:Yr},{path:"/admin",name:"Admin",component:Po}],Yo=(0,i.p7)({history:(0,i.PO)("/"),routes:Io});var Vo=Yo;(0,s.ri)(Ne).use(Vo).mount("#app")}},t={};function a(s){var l=t[s];if(void 0!==l)return l.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,s,l,n){if(!s){var r=1/0;for(d=0;d<e.length;d++){s=e[d][0],l=e[d][1],n=e[d][2];for(var o=!0,i=0;i<s.length;i++)(!1&n||r>=n)&&Object.keys(a.O).every((function(e){return a.O[e](s[i])}))?s.splice(i--,1):(o=!1,n<r&&(r=n));if(o){e.splice(d--,1);var u=l();void 0!==u&&(t=u)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[s,l,n]}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.p="/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var l,n,r=s[0],o=s[1],i=s[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(l in o)a.o(o,l)&&(a.m[l]=o[l]);if(i)var d=i(a)}for(t&&t(s);u<r.length;u++)n=r[u],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(d)},s=self["webpackChunkgatus"]=self["webpackChunkgatus"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(814)}));s=a.O(s)})();